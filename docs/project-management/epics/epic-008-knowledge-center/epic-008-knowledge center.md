---
doc_id: "FG-EPIC-XXX"
title: "Knowledge Center –¥–ª—è External Advisors"
type: "epic"
category: "feature"
audience: "product-manager|business-analyst|developer|qa|stakeholder"
complexity: "advanced"
created: "2025-10-21"
updated: "2025-10-21"
version: "1.0.0"
status: "draft"
tags: ["knowledge-center", "advisor-portal", "resource-management", "constitution-template", "sharing", "education"]
related: ["DOC-USR-003", "DOC-USR-002", "DOC-USR-001", "DOC-SYS-001"]
owner: ""
maintainer: ""
reviewer: ""
priority: "high"
business_value: "–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–æ–Ω–Ω—ã—Ö —É—Å–ª—É–≥ —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—É—é –±–∞–∑—É –∑–Ω–∞–Ω–∏–π advisors"
user_impact: "–ü–æ–∑–≤–æ–ª—è–µ—Ç advisors —Å–æ–∑–¥–∞–≤–∞—Ç—å –ª–∏—á–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∏ –¥–µ–ª–∏—Ç—å—Å—è —Å —Å–µ–º—å—è–º–∏"
review_cycle: "quarterly"
next_review: "2026-01-21"
---

# Epic: Knowledge Center –¥–ª—è External Advisors

## üìã Basic Information

**Issue Type:** Epic  
**Project:** FG  
**Epic Name:** Knowledge Center - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è External Advisors  
**Summary:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é sharing –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å —Å–µ–º—å—è–º–∏-–∫–ª–∏–µ–Ω—Ç–∞–º–∏  
**Parent Initiative:** FG-XXX [Link to Proposal]  
**Priority:** High  
**Epic Link:** FG-EPIC-XXX

---

## üéØ Epic Goal

**What will this Epic deliver?**

Knowledge Center - —ç—Ç–æ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∑–Ω–∞–Ω–∏–π –¥–ª—è External Advisors, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –ª–∏—á–Ω—ã–µ –±–∞–∑—ã –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∏ –¥–µ–ª–∏—Ç—å—Å—è –∏–º–∏ —Å —Å–µ–º—å—è–º–∏-–∫–ª–∏–µ–Ω—Ç–∞–º–∏.

**User-facing value (—á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç –¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ Epic):**
- –°–æ–∑–¥–∞–≤–∞—Ç—å, –æ—Ä–≥–∞–Ω–∏–∑–æ–≤—ã–≤–∞—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏ 9 —Ç–∏–ø–æ–≤ –≤ —Å–≤–æ–µ–π –ª–∏—á–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ
- –î–µ–ª–∏—Ç—å—Å—è —Ä–µ—Å—É—Ä—Å–∞–º–∏ —Å —Å–µ–º—å—è–º–∏-–∫–ª–∏–µ–Ω—Ç–∞–º–∏ –≤ –æ–¥–∏–Ω –∫–ª–∏–∫ (association-based sharing)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã –∫–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–∏ —Å 12 —Ä–∞–∑–¥–µ–ª–∞–º–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ —Ä–∞–±–æ—Ç—ã —Å —Å–µ–º—å–µ–π
- –û—Ä–≥–∞–Ω–∏–∑–æ–≤—ã–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –≤ –ø–∞–ø–∫–∏ –∏ –ø–æ–º–µ—á–∞—Ç—å –≤–∞–∂–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –∫–∞–∫ Featured
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å, –∫–∞–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã shared —Å –∫–∞–∫–∏–º–∏ —Å–µ–º—å—è–º–∏
- –î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –≤–∞—Ä–∏–∞—Ü–∏–π

**Business value (–∫–∞–∫ –±–∏–∑–Ω–µ—Å –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç):**
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–æ–Ω–Ω—ã—Ö —É—Å–ª—É–≥ —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—É—é –±–∞–∑—É –∑–Ω–∞–Ω–∏–π
- –£—Å–∫–æ—Ä–µ–Ω–∏–µ onboarding –Ω–æ–≤—ã—Ö —Å–µ–º–µ–π-–∫–ª–∏–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ ready-to-use templates
- –ü–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ advisors —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- –£–≤–µ–ª–∏—á–µ–Ω–∏–µ perceived value —É—Å–ª—É–≥ —á–µ—Ä–µ–∑ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É —Ä–µ—Å—É—Ä—Å–æ–≤
- –£–ª—É—á—à–µ–Ω–∏–µ retention —Å–µ–º–µ–π —á–µ—Ä–µ–∑ –¥–æ—Å—Ç—É–ø –∫ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º

**Scope boundaries:**

**‚úÖ –í–∫–ª—é—á–µ–Ω–æ:**
- CRUD –¥–ª—è 9 —Ç–∏–ø–æ–≤ —Ä–µ—Å—É—Ä—Å–æ–≤ (Documents, Articles, Videos, Podcasts, Templates, Guides, External Links, Checklists, Learning Paths)
- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ç–∏–ø "Constitution Template" —Å 12 —Ä–∞–∑–¥–µ–ª–∞–º–∏ (partial sharing allowed)
- Folder organization (1 —É—Ä–æ–≤–µ–Ω—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏, –±–µ–∑ –ª–∏–º–∏—Ç–æ–≤)
- Featured resources marking (advisor-level)
- Association-based sharing —Å —Å–µ–º—å—è–º–∏ (read-only –∫–æ–ø–∏–∏)
- Resource duplication –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–∞—Ä–∏–∞—Ü–∏–π
- –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è (–ø–æ —Ç–∏–ø—É, shared/not shared, —è–∑—ã–∫—É)
- –ú–µ—Ç—Ä–∏–∫–∏ (families shared with count)
- File upload –¥–ª—è Documents/Templates (PDF, DOCX, XLSX –¥–æ 50MB)
- Instant notifications –≤ —Ü–µ–Ω—Ç—Ä –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–π –ø—Ä–∏ sharing
- –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (multi-language support)
- Soft delete —Å retention period 6 –º–µ—Å—è—Ü–µ–≤

**‚ùå –ù–ï –≤–∫–ª—é—á–µ–Ω–æ:**
- Learning Paths —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (–æ—Ç–¥–µ–ª—å–Ω—ã–π Epic - —Ç–æ–ª—å–∫–æ —Ç–∏–ø —Ä–µ—Å—É—Ä—Å–∞ –¥–æ–±–∞–≤–ª–µ–Ω)
- –í–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–∞–ø–∫–∏ (> 1 —É—Ä–æ–≤–Ω—è)
- Collaborative editing —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ advisors
- Version control –¥–ª—è —Ä–µ—Å—É—Ä—Å–æ–≤ (updates = new resource copies)
- Comments/feedback –æ—Ç —Å–µ–º–µ–π –Ω–∞ —Ä–µ—Å—É—Ä—Å—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- Integration —Å –≤–Ω–µ—à–Ω–∏–º–∏ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ usage patterns

---

## üë• Target Users

**Who will use this feature?**

**Primary Personas:**
- **External Advisor (DOC-USR-003)** - –°–æ–∑–¥–∞—é—Ç –∏ —É–ø—Ä–∞–≤–ª—è—é—Ç –ª–∏—á–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ Advisor Portal, –¥–µ–ª—è—Ç—Å—è –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏ —Å —Å–µ–º—å—è–º–∏. –í—Å–µ —Ç–∏–ø—ã advisors (Personal Family Advisor, External Consul, Marketplace Consultant) –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º 9 —Ç–∏–ø–∞–º —Ä–µ—Å—É—Ä—Å–æ–≤ - –∫–∞–∂–¥—ã–π advisor —Å–æ–∑–¥–∞–µ—Ç —Å–≤–æ—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –±–∞–∑—É –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤.

**Secondary Personas:**
- **Family Council Member (DOC-USR-002)** - –ø–æ–ª—É—á–∞–µ—Ç shared resources (read-only –∫–æ–ø–∏–∏) –≤ Family Portal Knowledge Center, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤ —Å–≤–æ–µ–π —Å–µ–º—å–µ
- **Family Member (DOC-USR-001)** - —á–∏—Ç–∞–µ—Ç educational –∫–æ–Ω—Ç–µ–Ω—Ç (read-only –∫–æ–ø–∏–∏) –≤ Family Portal Knowledge Center, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π advisor

---

## üìñ User Stories (High-Level)

**Main scenarios this Epic will enable:**

### Resource Management
1. **As an External Advisor**, **I want to create and organize educational resources of 9 different types**, **so that I can build a comprehensive knowledge library for my consulting practice**

2. **As an External Advisor**, **I want to organize resources into folders**, **so that I can structure my library by client type, service offering, or topic**

### Discovery & Organization
3. **As an External Advisor**, **I want to mark important resources as Featured**, **so that I can quickly access my most-used materials**

4. **As an External Advisor**, **I want to search and filter resources by type and sharing status**, **so that I can efficiently find the right content for each consultation**

---

## üé® Design & UX

**UX Notes:**

**User flows:**

### Flow 1: Create Simple Resource (Article/Link)
1. Advisor clicks "+ Create Resource" button in Advisor Portal
2. Modal opens with resource type selection (9 types)
3. Advisor selects type (e.g., "Article")
4. Form shows: Title, Description, Content/URL, Language selector
5. Advisor fills form and clicks "Create"
6. Resource appears in advisor's personal "All Resources" list

### Flow 2: Duplicate Existing Resource
1. Advisor finds resource to duplicate in their library
2. Clicks "‚ãÆ" menu ‚Üí "Duplicate"
3. System creates copy with title "[Original Title] (Copy)"
4. Advisor can immediately edit duplicate
5. Duplicate appears in advisor's "All Resources" list

### Flow 3: Create Constitution Template (Partial)
1. Advisor clicks "+ Create Resource" ‚Üí selects "Constitution Template"
2. Special form opens with 12 expandable sections:
   - Ways to Create Your Constitution
   - Preamble
   - Values and Mission
   - Governance Structure
   - Wealth Management
   - Education and Development
   - Decision Making Process
   - Succession Planning
   - Philanthropy
   - Conflict Resolution
   - Voting Rules and Procedures
   - Constitution Amendment Process
3. Each section has rich text editor for content input
4. Advisor fills some sections (e.g., only 5 out of 12)
5. Advisor clicks "Save Template" (no validation requiring all sections)
6. Template saved in advisor's library with filled sections, empty sections remain blank

### Flow 4: Share Resource with Family (Instant Notification)
1. Advisor finds resource in their library (search/filter)
2. Clicks "Share" button on resource card
3. Modal opens with dropdown of associated families
4. Advisor selects one or multiple families
5. System shows preview of what family will receive
6. Advisor confirms sharing
7. System creates read-only copy for each family
8. For Constitution Template: automatically populates filled sections in family's constitution-service (empty sections remain empty)
9. **INSTANT**: Family Council members receive notification in notification center
10. Notification message: "New resource shared by [Advisor Name]: [Resource Title]"
11. Resource appears in Family Portal Knowledge Center section
12. Resource card in Advisor Portal updates: "X families" count increments

### Flow 5: Share Updated Version
1. Advisor edits existing resource in their library
2. Clicks "Share" ‚Üí selects families (including those who already have old version)
3. System creates NEW copy for families (does NOT update existing copy)
4. Families receive NEW notification: "Updated resource shared by [Advisor Name]: [Resource Title]"
5. Families now have BOTH versions in their Knowledge Center
6. Families decide whether to keep old version or use new one

### Flow 6: Organize with Folders
1. Advisor clicks "Create Folder" button in Advisor Portal
2. Names folder (e.g., "Onboarding Materials")
3. Drag-drop resources into folder OR select resources ‚Üí "Move to Folder"
4. Folders appear in left sidebar with resource count (advisor's personal organization)
5. Folders can be shared with families (shares all contained resources)

### Flow 7: Family Views Shared Resources (Multi-Advisor)
1. Family Council member receives notification: "New resource shared by [Advisor Name]"
2. Family member navigates to "Knowledge Center" section in Family Portal
3. Sees **combined list** of resources from ALL associated advisors
4. Each resource shows: title, description, type badge, shared date, **advisor name**
5. Can filter by advisor if needed
6. Clicks on resource to view full content
7. Can read/download but cannot edit (read-only mode)

### Flow 8: Soft Delete & Recovery
1. Advisor deletes resource from their library
2. System performs **soft delete** (marks as deleted, sets deleted_at timestamp)
3. Resource moves to "Deleted" section in Advisor Portal
4. Within 6 months: advisor can restore deleted resource
5. After 6 months: system permanently deletes (scheduled cleanup job)
6. Families' copies remain unaffected (independent copies)

**Key UX Principles:**
- **Personal library concept**: –∫–∞–∂–¥—ã–π advisor —Å–æ–∑–¥–∞–µ—Ç —Å–≤–æ—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –±–∞–∑—É –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- **One-click sharing**: –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å friction –¥–ª—è sharing workflow
- **Instant feedback**: immediate notifications –¥–ª—è families –ø—Ä–∏ sharing
- **Metrics visibility**: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å "X families" –Ω–∞ –∫–∞–∂–¥–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ
- **Draft support**: –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å save incomplete Constitution Templates
- **Bulk actions**: select multiple resources –¥–ª—è bulk sharing, moving, deleting
- **Family Portal integration**: seamless experience —Å combined multi-advisor view
- **Safety net**: soft delete —Å 6-month retention –¥–ª—è recovery

**See also:** [Link to 05-feature-specifications/FEAT-XXX.md for detailed UX]

---

## üßÆ Business Rules

### Resource Creation & Management

**BR-KC-001: Resource Types**
- System MUST support exactly 9 resource types:
  - Documents (file upload: PDF, DOCX, XLSX)
  - Articles (rich text editor)
  - Videos (embedded URL: YouTube, Vimeo)
  - Podcasts (audio file or URL)
  - Templates (file upload: PDF, DOCX, XLSX)
  - Guides (rich text editor or PDF)
  - External Links (URL validation required)
  - Checklists (structured format with checkable items)
  - Learning Paths (—Ç–∏–ø –¥–æ–±–∞–≤–ª–µ–Ω, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º Epic)
- Special type: Constitution Template (belongs to Templates but has special form UI)
- All resource types available to all advisor types (Personal Family Advisor, External Consul, Marketplace Consultant)
- Each advisor creates and manages their own personal library of resources

**BR-KC-002: File Upload Limits**
- Maximum file size: 50MB per file
- Allowed formats:
  - Documents: PDF, DOCX, XLSX, PPTX
  - Templates: PDF, DOCX, XLSX
  - Podcasts: MP3, M4A (max 100MB)
- Virus scanning required before storage
- Files stored with unique UUID names to prevent collisions

**BR-KC-003: Resource Ownership**
- Each resource MUST be owned by exactly one advisor (creator)
- Resources stored in advisor's personal library in Advisor Portal
- Owner CAN edit/delete their own resources
- Owner CANNOT transfer ownership to another advisor
- If resource is shared with families, soft delete (archive) instead of hard delete

**BR-KC-004: Resource Duplication**
- Advisor can duplicate any of their own resources
- Duplicate creates new resource with:
  - Title: "[Original Title] (Copy)"
  - Same content/sections as original
  - Same type and language
  - Empty sharing history (not shared yet)
  - New UUID
- Duplicate is independent (changes don't affect original)
- Advisor can edit duplicate immediately after creation

**BR-KC-005: Resource Localization**
- Each resource MUST have language specified (ISO 639-1 code)
- Supported languages: English (en), Russian (ru), Spanish (es), French (fr), German (de), Chinese (zh)
- Advisors can create multiple versions of same resource in different languages
- Families see resources in their preferred language when available, fallback to English

**BR-KC-006: Soft Delete & Data Retention**
- Deleted resources marked with `deleted_at` timestamp (soft delete)
- Deleted resources remain in database for 6 months
- Advisor can restore soft-deleted resources within 6-month period
- After 6 months: scheduled cleanup job permanently deletes (hard delete)
- Families' shared copies remain unaffected (independent data)
- Deleted resources do NOT appear in search/filters (only in "Deleted" section)

### Constitution Template Sections

**BR-KC-007: Constitution Template Structure**
- Constitution Template MUST have exactly 12 sections:
  1. Ways to Create Your Constitution
  2. Preamble
  3. Values and Mission
  4. Governance Structure
  5. Wealth Management
  6. Education and Development
  7. Decision Making Process
  8. Succession Planning
  9. Philanthropy
  10. Conflict Resolution
  11. Voting Rules and Procedures
  12. Constitution Amendment Process
- Each section stored as JSONB field with: `title`, `content` (rich text), `status` (Not Started/In Progress/Completed), `updated_at`
- Sections can be saved individually (draft mode)
- **PARTIAL SHARING ALLOWED**: Template can be shared even if only some sections filled

**BR-KC-008: Constitution Template Partial Sharing**
- Advisor can share Constitution Template with any number of sections filled (1-12)
- When shared:
  - System creates IMMUTABLE snapshot of ONLY filled sections
  - Empty sections remain empty in family's constitution
  - Family can fill remaining sections themselves
  - Snapshot sent to constitution-service for that family
- If advisor later fills more sections and shares again:
  - Creates NEW copy with all currently filled sections
  - Family receives as separate resource (not update of existing)

**BR-KC-009: Constitution Template Sharing**
- When Constitution Template shared with family:
  - System creates IMMUTABLE snapshot (copy) of all filled sections
  - Snapshot sent to constitution-service for that family
  - Filled sections appear in family's Constitution page
  - Empty sections remain "Not Started" for family to complete
  - Family can edit their copy independently
  - Changes to original template do NOT affect already-shared copies
- Advisor can share same template with multiple families (each gets independent copy)

### Folder Organization

**BR-KC-010: Folder Structure**
- Advisors can create personal folders (1 level depth only, no nesting)
- Folders are personal to each advisor (not shared between advisors)
- Folder name MUST be unique per advisor (case-insensitive)
- Resources can belong to max 1 folder (no multi-folder assignment)
- Empty folders allowed
- Folders can be deleted (moves resources to "Uncategorized")
- **NO LIMIT** on number of folders per advisor

**BR-KC-011: Folder Sharing**
- Folders can be shared with families (bulk sharing of all contained resources)
- When folder shared: each resource creates independent copy for family
- Folder structure NOT visible to families (they see individual resources)

### Resource Sharing

**BR-KC-012: Association-Based Sharing**
- Advisor can ONLY share resources with families where `family_advisor_associations.is_active = true`
- Each sharing creates read-only copy owned by family (not reference to original)
- Families CANNOT edit shared resources (read-only mode)
- Families CAN delete their copies (does not affect advisor's original)
- Sharing does NOT affect advisor's original resource in their library

**BR-KC-013: Sharing Updates (No Versioning)**
- Advisor CANNOT "update" already-shared resource
- To provide updated content: advisor shares NEW version
- System creates NEW copy for family (families receive duplicate)
- Families decide whether to keep old version or replace with new
- Both versions coexist in family's Knowledge Center

**BR-KC-014: Sharing Notifications (Instant)**
- When advisor shares resource with family:
  - **INSTANT** notification sent to family notification center
  - Notification message: "New resource shared by [Advisor Name]: [Resource Title]"
  - Notification links to resource in Family Portal Knowledge Center
  - Family Council members ALWAYS receive notification
  - Family Members can opt-in to receive these notifications in their preferences
- Notifications sent immediately (no batching/digest)

### Featured Resources

**BR-KC-015: Featured Marking**
- Advisor can mark resources as "Featured" for quick access
- Featured status is personal (not visible to families or other advisors)
- No limit on number of Featured resources
- Featured resources appear in dedicated "FEATURED" tab in Advisor Portal

### Search & Filtering

**BR-KC-016: Search Scope**
- Search ONLY within advisor's own created resources (ownership-based)
- Search fields: title, description, content (full-text)
- Search results ranked by relevance, then by updated_at
- Deleted resources (soft deleted) do NOT appear in search

**BR-KC-017: Filter Options**
- Filter by Type: All / Documents / Articles / Videos / Podcasts / Templates / Guides / External Links / Checklists / Learning Paths
- Filter by Sharing Status: All / Shared / Not Shared
- Filter by Folder: All / [Folder Name] / Uncategorized
- Filter by Language: All / English / Russian / Spanish / French / German / Chinese
- Multiple filters combine with AND logic

### Metrics & Analytics

**BR-KC-018: Resource Metrics**
- System MUST track for each resource:
  - **Families Count**: number of unique families this resource shared with
- Metrics update in real-time (no batch processing)
- Metrics display on resource cards in Advisor Portal

### Family Portal Integration

**BR-KC-019: Family Portal Display (Multi-Advisor)**
- Family Portal MUST have dedicated "Knowledge Center" section
- Section displays **COMBINED LIST** of resources from ALL associated advisors
- Resources from multiple advisors shown in single unified view
- Each resource displays:
  - Title, description, type badge
  - Shared date
  - **Advisor name** (who shared this resource)
- Resources organized by shared date (newest first) by default
- Families can filter by:
  - Resource type
  - Advisor name (if multiple advisors)
  - Shared date range
- Resources are read-only (no edit capabilities)

**BR-KC-020: Family Portal Resource Actions**
- Families can view/download resources
- Families can delete their copies (does not affect advisor's original or other families)
- Families CANNOT edit resource content
- For Constitution Templates: content automatically populates in family's constitution (read-only in Knowledge Center, editable in Constitution section)

**See also:** [Link to 06-business-rules/BR-KC-XXX.md for detailed business rules]

---

## üìù Notes

### Resolved Questions:
- [x] Constitution Template validation ‚Üí Partial sharing allowed
- [x] Folder limits ‚Üí No limits
- [x] Resource duplication ‚Üí Yes, with "(Copy)" suffix
- [x] Family Portal section name ‚Üí "Knowledge Center"
- [x] Multi-advisor resources ‚Üí Combined list with advisor name shown
- [x] Notification frequency ‚Üí Instant notifications
- [x] Data retention ‚Üí 6 months soft delete retention
- [x] Updated versions ‚Üí New resource copies (no versioning)

### Additional Considerations:
- **Performance**: Large Constitution Templates (12 sections rich text) –º–æ–≥—É—Ç –±—ã—Ç—å heavy. Consider pagination –¥–ª—è section loading.
- **Search optimization**: Full-text search across large libraries –º–æ–∂–µ—Ç –±—ã—Ç—å slow. Monitor query performance.
- **Storage costs**: File uploads (50MB limit) + 6-month retention –º–æ–≥—É—Ç accumulate. Monitor storage usage.

---

**Template Version:** 1.0.0  
**Last Updated:** 2025-10-21  
**Epic Status:** Ready for Refinement  
**Next Step:** Backlog Grooming ‚Üí Sprint Planning
