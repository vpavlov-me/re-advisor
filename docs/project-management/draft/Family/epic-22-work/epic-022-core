# EPIC-022: Template Exchange System

> **Note:** This Epic enables External Advisors to share Constitution templates, Learning Paths, and Resources with families through one-way sharing mechanism

---

## üìã Basic Information

**Issue Type:** Epic  
**Project:** FG  
**Epic Name:** Template Exchange System (Advisor ‚Üí Family)  
**Summary:** Enable External Advisors to share Constitution templates, Learning Paths, and Resource links with families, with specialized workflows for each content type  
**Parent User Journey:** [To be determined]  
**Parent Initiative:** N/A  
**Related Epics:** EPIC-017, EPIC-018, EPIC-019, EPIC-020, EPIC-021  
**Priority:** Critical  
**Target Release:** 30.11.2025  
**Epic Link:** FG-EPIC-022

---

## üéØ Epic Goal

### What Will This Epic Deliver?

Enable External Advisors to share three types of content with families through the Family Portal:

1. **Constitution Templates** - Advisor shares template, edits it on Family Portal, Family Council activates as active Constitution
2. **Learning Paths** - Advisor shares Learning Path with progress tracking (shared ‚Üí pending ‚Üí in progress ‚Üí finished) visible only on Family Portal
3. **Resource Links** - Simple one-way link sharing to Family Portal

### Business Value

**For Families:**
- Receive professional Constitution templates from hired advisors with direct advisor editing support
- Access advisor-curated Learning Paths with clear progress visibility
- Centralized access to advisor-shared resource links and professional materials

**For External Advisors:**
- Efficient knowledge transfer through template and resource sharing
- Direct Constitution template editing capability on Family Portal
- Professional service delivery through structured content sharing

**For ReFamily Platform:**
- Enhanced marketplace value through improved advisor-family collaboration tools
- Increased engagement with advisor-provided content
- Platform differentiation via sophisticated content sharing mechanism

### Scope Boundaries

**In Scope:**
- Constitution template sharing and activation workflow
- Advisor access to Family Portal for Constitution editing
- Learning Path sharing with 4-status tracking system
- Resource link one-way sharing
- Notifications for Learning Path status changes only
- Concurrent editing lock mechanism for Constitution templates

**Out of Scope:**
- Family ‚Üí Advisor sharing (reverse direction)
- Bidirectional exchange mechanisms
- Constitution merge/diff engine
- Constitution review/approval workflows
- Status visibility on Advisor Portal
- Notifications for Constitution and Resource sharing
- Resource file uploads (links only)
- Resource categorization systems
- Bulk sharing operations
- Template versioning
- Collaboration comments
- Un-sharing content after initial share
- Hiding/archiving shared content by families
- Content expiration policies
- Learning Path pause/resume functionality
- Learning Path unassignment capability

---

## üë• Target Users

### Primary Users

**External Advisor**
- Professional advisor hired through ReFamily marketplace
- Shares Constitution templates, Learning Paths, and Resource links with families
- Accesses Family Portal to edit shared Constitution templates
- Provides structured guidance and professional materials

**Family Council Member**
- Family governance decision-maker
- Receives and reviews advisor-shared content
- Activates Constitution templates as active Constitution
- Tracks Learning Path progress for family members
- Reviews advisor edits to Constitution templates

### Secondary Users

**Family Member**
- Participates in assigned Learning Paths
- Works through learning content
- Progress tracked automatically through status system

---

## üìñ User Stories (High-Level)

### Constitution Module

**Advisor Stories:**
1. As an External Advisor, I want to share a Constitution template with a family so they have a professional starting point for their governance work
2. As an External Advisor, I want to access the Family Portal to edit the Constitution template I shared so I can refine it based on specific family needs
3. As an External Advisor, I want to edit any of the 12 Constitution sections so I can provide comprehensive guidance across all governance areas

**Family Council Stories:**
4. As a Family Council Member, I want to receive a Constitution template from my hired advisor so I can start building our family constitution with professional guidance
5. As a Family Council Member, I want to see advisor edits to the template in real-time so I can review their work as it progresses
6. As a Family Council Member, I want to activate the advisor's template as our active Constitution so we can officially adopt it for family use
7. As a Family Council Member, I want the previous active Constitution preserved as a template when I activate a new one so our historical work is not lost

### Learning Path Module

**Advisor Stories:**
8. As an External Advisor, I want to share a Learning Path with a family so they can access structured professional development content
9. As an External Advisor, I want the Learning Path to appear automatically in the family's portal so they can immediately start engaging with the content

**Family Council Stories:**
10. As a Family Council Member, I want to see when an advisor shares a Learning Path (status: shared) so I know new educational content is available
11. As a Family Council Member, I want to assign the shared Learning Path to a Family Member so they can begin their learning journey
12. As a Family Council Member, I want to see when a Family Member starts the Learning Path (status: in progress) so I can monitor engagement
13. As a Family Council Member, I want to receive notifications when a Family Member completes the Learning Path (status: finished) so I can acknowledge their achievement
14. As a Family Council Member, I want all status information visible only on Family Portal so we maintain family privacy

**Family Member Stories:**
15. As a Family Member, I want to receive notification when a Learning Path is assigned to me (status: pending) so I know I have new development work
16. As a Family Member, I want my progress tracked automatically (in progress, finished) so my engagement is visible to family leadership

### Resources Module

**Advisor Stories:**
17. As an External Advisor, I want to share a Resource link with a family so they can access supplementary materials
18. As an External Advisor, I want the Resource link to appear in the appropriate Family Portal section so families can easily find it

**Family Stories:**
19. As a Family Council Member or Family Member, I want to access advisor-shared Resource links in our portal so we can reference professional materials
20. As a Family Council Member or Family Member, I want to open shared Resource links so we can access external content and documentation

---

## üîó Dependencies

### Must Have Before This Epic

**Internal Dependencies:**
- EPIC-017: Family Constitution Core Structure (12 sections defined)
- EPIC-009: Learning Path Framework (including existing assignment mechanism)
- Knowledge Center section for displaying Resource links
- External Advisor Portal basic functionality
- Family Portal authentication & access control system

**Technical Dependencies:**
- Cross-portal authentication system (for Advisor access to Family Portal)
- Notification service infrastructure
- Lock mechanism for concurrent editing prevention

### Related Systems

- Workshop ecosystem integration (for context)
- Family Council permissions system
- Family Member role management

---

## üé® Design & UX

### Figma Links
[To be added]

### Key User Flows

**Flow 1: Constitution Template Sharing & Activation**
1. Advisor shares Constitution template from Advisor Portal
2. Template appears on Family Portal (inactive state)
3. Advisor accesses Family Portal, edits template sections (lock mechanism prevents concurrent editing)
4. Family Council reviews edits in real-time
5. Family Council activates template ‚Üí becomes active Constitution
6. Previous active Constitution ‚Üí becomes template (archived)
7. Advisor loses editing access after activation

**Flow 2: Learning Path Status Progression**
1. Advisor shares Learning Path from Advisor Portal
2. Learning Path appears on Family Portal (status: shared)
3. Family Council assigns to Family Member ‚Üí status: pending
4. Family Member starts Learning Path ‚Üí status: in progress
5. Family Member completes Learning Path ‚Üí status: finished
6. Notifications sent at each status transition

**Flow 3: Resource Link Sharing**
1. Advisor shares Resource link from Advisor Portal
2. Resource link appears in Family Portal appropriate section
3. Family members access external Resource via link

---

## üîî Notifications

**Note:** Notifications ONLY for Learning Path module

| Trigger | Recipient | Channel | Content |
|---------|-----------|---------|---------|
| Advisor shares Learning Path | Family Council | In-app, Email | "External Advisor [Name] shared a Learning Path: [Title]" |
| Family Council assigns Learning Path | Family Member | In-app, Email | "You have been assigned Learning Path: [Title]" |
| Family Member starts Learning Path | Family Council | In-app | "[Member Name] started Learning Path: [Title]" |
| Family Member completes Learning Path | Family Council | In-app, Email | "[Member Name] completed Learning Path: [Title]" |

**Important:**
- NO notifications for Constitution template sharing/activation
- NO notifications for Resource sharing
- All notifications only visible on Family Portal
- Advisor Portal does NOT receive status update notifications

---

## üßÆ Business Rules

### Constitution Module Rules

**BR-001: Single Active Constitution**
- Only one Constitution can be active per family at any time
- Activating new Constitution automatically archives current active Constitution

**BR-002: Template Preservation**
- Previous active Constitution becomes template (not deleted)
- All historical Constitution versions preserved as templates

**BR-003: Advisor Editing Access**
- Advisor can only edit Constitution templates they shared
- Advisor access limited to shared template, cannot view other family data
- Edits visible to Family Council in real-time
- Advisor access expires when Family Council activates template
- After activation, Advisor loses editing access

**BR-003a: Concurrent Editing Prevention**
- Only one person can edit Constitution template at any moment
- If Advisor is editing, Family Council cannot edit simultaneously
- If Family Council is editing, Advisor cannot edit simultaneously
- Lock mechanism prevents concurrent modification conflicts

**BR-004: Template State**
- Shared templates appear as "inactive" until activated
- Inactive templates cannot be used for governance decisions
- Only Family Council can activate templates

### Learning Path Module Rules

**BR-005: Status Progression**
- Status flow: shared ‚Üí pending ‚Üí in progress ‚Üí finished
- Status cannot move backwards
- Status transitions automatic (except shared ‚Üí pending which is manual assignment)

**BR-006: Status Visibility**
- All status information visible ONLY on Family Portal
- Advisor Portal does NOT display status updates
- Status applies per Family Member (multiple members can have different statuses for same Learning Path)

**BR-007: Assignment Mechanism**
- Uses existing assignment mechanism (already implemented)
- Family Council assigns Learning Paths to Family Members
- Assignment triggers status change: shared ‚Üí pending
- Once assigned, Learning Path cannot be unassigned
- Assignment is permanent for tracking purposes

**BR-008: Learning Path Instance**
- Each shared Learning Path creates unique instance for family
- Multiple families receiving same Learning Path have separate instances
- If same Learning Path assigned to multiple Family Members within one family, each member has separate status tracking
- Example: Member A can be "in progress" while Member B is "finished" for same Learning Path
- Status tracking is per-member, not per-Learning-Path

### Resource Module Rules

**BR-009: Simple Sharing**
- Resources are external links only (no file uploads)
- Links immediately available after sharing
- No approval or acceptance workflow
- Resource links appear in appropriate section based on type

**BR-010: Access Control**
- All family members can access shared Resource links
- No per-member permission restrictions
- Families cannot hide or archive shared Resources after receiving them

### Cross-Module Rules

**BR-011: Sharing Direction**
- All sharing is one-way: Advisor ‚Üí Family
- No reverse sharing mechanism (Family ‚Üí Advisor)

**BR-012: Content Ownership**
- Advisor retains ownership of shared content
- Advisor cannot remove or un-share content after sharing (permanent share)
- Family cannot delete, hide, or archive shared content
- Shared content remains accessible indefinitely (no expiration policy)

---

## üìù Notes

### Assumptions

**A-001:** Existing assignment mechanism for Learning Paths is fully functional and requires no modifications

**A-002:** Family Portal has adequate access control infrastructure to support external Advisor access for Constitution editing

**A-003:** Notification service can handle Learning Path status change events

**A-004:** Resources are external links only; no file storage capacity requirements

**A-005:** Shared content has no expiration date and remains accessible indefinitely

**A-006:** Concurrent editing conflicts prevented through lock mechanism (one editor at a time)

### Constraints

**C-001:** Advisor editing of Constitution templates requires secure, scope-limited access to Family Portal

**C-002:** Learning Path status visibility restricted to Family Portal only (technical constraint to maintain family privacy)

**C-003:** No modifications to Constitution activation workflow beyond template source

**C-004:** Resources limited to external links only (no file upload capability)

**C-005:** No pause/resume functionality for Learning Path progress

**C-006:** Learning Path assignments are permanent (cannot be unassigned)

### Future Enhancements (Out of Current Scope)

**FE-001:** Family ‚Üí Advisor sharing capability

**FE-002:** Advisor visibility into Learning Path completion statistics

**FE-003:** Constitution template versioning system

**FE-004:** Merge/diff engine for Constitution changes

**FE-005:** Review/approval workflow for Constitution edits

**FE-006:** Resource file upload capability (currently links only)

**FE-007:** Resource categorization and tagging

**FE-008:** Bulk sharing operations

**FE-009:** Collaboration comments on templates

**FE-010:** Template marketplace/library

**FE-011:** Analytics dashboard for advisor content performance

**Note:** The following are intentionally excluded and not planned as future enhancements:
- Un-sharing content after initial share
- Hiding/archiving shared content by families
- Content expiration policies
- Learning Path pause/resume functionality
- Learning Path unassignment capability
- File size limits for Resources (links only, no limits needed)

---

**Epic Owner:** [To be assigned]  
**Created:** 2025-11-20  
**Last Updated:** 2025-11-20