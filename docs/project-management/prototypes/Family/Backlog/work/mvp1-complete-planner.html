<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MVP1 Complete Platform Planner - Blueprint + Family + Advisor</title>
    <style>
        /* Corporate Design System */
        :root {
            --primary-color: #1a4d8f;
            --primary-dark: #0f3666;
            --primary-light: #2b6bb8;
            --secondary-color: #5a7fa3;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
            --light-gray: #f8f9fa;
            --medium-gray: #e9ecef;
            --dark-gray: #495057;
            --border-color: #dee2e6;
            --text-primary: #212529;
            --text-secondary: #6c757d;
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.08);
            --shadow-md: 0 4px 8px rgba(0,0,0,0.12);
            --shadow-lg: 0 8px 16px rgba(0,0,0,0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
            font-size: 14px;
            line-height: 1.6;
            color: var(--text-primary);
            background-color: var(--light-gray);
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary-color) 100%);
            color: white;
            padding: 24px 32px;
            box-shadow: var(--shadow-md);
        }

        .header-content {
            max-width: 1600px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            font-size: 24px;
            font-weight: 600;
            margin: 0;
        }

        .header-subtitle {
            font-size: 13px;
            opacity: 0.9;
            margin-top: 4px;
        }

        /* Main Container */
        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 32px;
        }

        /* MVP1 Summary Panel */
        .mvp1-summary {
            background: white;
            padding: 24px;
            border-radius: 8px;
            box-shadow: var(--shadow-sm);
            margin-bottom: 24px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 24px;
        }

        .summary-item {
            text-align: center;
        }

        .summary-label {
            font-size: 12px;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }

        .summary-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--primary-color);
        }

        .summary-subtext {
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        /* Layout */
        .planner-layout {
            display: grid;
            grid-template-columns: 1fr 450px;
            gap: 24px;
            min-height: 800px;
        }

        /* Story Pool */
        .story-pool {
            background: white;
            border-radius: 8px;
            box-shadow: var(--shadow-sm);
            padding: 24px;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--border-color);
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
        }

        /* Filters */
        .filters {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 8px 16px;
            border: 2px solid var(--border-color);
            background: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .filter-btn:hover {
            border-color: var(--primary-color);
            background: var(--light-gray);
        }

        .filter-btn.active {
            background: var(--primary-color);
            border-color: var(--primary-color);
            color: white;
        }

        .filter-btn.priority-critical {
            border-color: #dc3545;
        }

        .filter-btn.priority-critical.active {
            background: #dc3545;
            border-color: #dc3545;
        }

        .filter-btn.priority-high {
            border-color: #ffc107;
        }

        .filter-btn.priority-high.active {
            background: #ffc107;
            border-color: #ffc107;
            color: #333;
        }

        /* Story Cards */
        .story-cards {
            display: grid;
            gap: 12px;
            max-height: 600px;
            overflow-y: auto;
            padding-right: 8px;
        }

        .story-card {
            background: white;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            padding: 16px;
            cursor: move;
            transition: all 0.2s ease;
            position: relative;
        }

        .story-card:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }

        .story-card.dragging {
            opacity: 0.5;
        }

        .story-card.in-mvp1 {
            opacity: 0.3;
            pointer-events: none;
            background: var(--light-gray);
        }

        .story-card-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 12px;
        }

        .story-id {
            font-size: 12px;
            font-weight: 700;
            color: var(--primary-color);
            background: var(--light-gray);
            padding: 4px 8px;
            border-radius: 4px;
        }

        .story-badges {
            display: flex;
            gap: 6px;
            align-items: center;
        }

        .story-sp {
            font-size: 11px;
            font-weight: 600;
            color: var(--text-secondary);
            background: var(--medium-gray);
            padding: 3px 8px;
            border-radius: 3px;
        }

        .story-readiness {
            font-size: 11px;
            font-weight: 600;
            padding: 3px 8px;
            border-radius: 3px;
        }

        .readiness-critical { background: #ffebee; color: #c62828; }
        .readiness-low { background: #fff3e0; color: #e65100; }
        .readiness-medium { background: #fff9c4; color: #f57f17; }
        .readiness-high { background: #e8f5e9; color: #2e7d32; }

        .story-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
            line-height: 1.4;
        }

        .story-description {
            font-size: 12px;
            color: var(--text-secondary);
            line-height: 1.5;
            margin-bottom: 8px;
        }

        .story-block {
            font-size: 11px;
            color: var(--text-secondary);
            font-style: italic;
        }

        .priority-indicator {
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            border-radius: 8px 0 0 8px;
        }

        .priority-critical .priority-indicator { background: #dc3545; }
        .priority-high .priority-indicator { background: #ffc107; }
        .priority-medium .priority-indicator { background: #17a2b8; }
        .priority-low .priority-indicator { background: #6c757d; }

        .add-btn {
            background: var(--success-color);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-top: 8px;
            width: 100%;
        }

        .add-btn:hover {
            background: #218838;
            transform: translateY(-1px);
        }

        .add-btn:disabled {
            background: var(--medium-gray);
            color: var(--text-secondary);
            cursor: not-allowed;
            transform: none;
        }

        /* MVP1 Builder */
        .mvp1-builder {
            background: white;
            border-radius: 8px;
            box-shadow: var(--shadow-md);
            padding: 24px;
            position: sticky;
            top: 32px;
            height: fit-content;
            max-height: calc(100vh - 64px);
            display: flex;
            flex-direction: column;
        }

        .builder-header {
            margin-bottom: 20px;
        }

        .builder-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 12px;
        }

        .builder-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            padding: 16px;
            background: var(--light-gray);
            border-radius: 6px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-label {
            font-size: 11px;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-color);
            margin-top: 4px;
        }

        /* Drop Zone */
        .drop-zone {
            flex: 1;
            border: 3px dashed var(--border-color);
            border-radius: 8px;
            padding: 20px;
            min-height: 300px;
            max-height: 400px;
            overflow-y: auto;
            margin: 20px 0;
            transition: all 0.2s ease;
        }

        .drop-zone.drag-over {
            border-color: var(--primary-color);
            background: rgba(26, 77, 143, 0.05);
        }

        .drop-zone-empty {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: var(--text-secondary);
            text-align: center;
        }

        .drop-zone-empty-icon {
            font-size: 48px;
            margin-bottom: 16px;
            opacity: 0.3;
        }

        .mvp1-story {
            background: var(--light-gray);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 12px;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.2s ease;
        }

        .mvp1-story:hover {
            background: var(--medium-gray);
        }

        .mvp1-story-info {
            flex: 1;
        }

        .mvp1-story-id {
            font-size: 11px;
            font-weight: 700;
            color: var(--primary-color);
        }

        .mvp1-story-title {
            font-size: 13px;
            font-weight: 600;
            margin-top: 2px;
        }

        .mvp1-story-meta {
            display: flex;
            gap: 8px;
            align-items: center;
            margin-top: 4px;
        }

        .remove-btn {
            background: var(--danger-color);
            color: white;
            border: none;
            padding: 6px 10px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .remove-btn:hover {
            background: #c82333;
        }

        /* Action Buttons */
        .builder-actions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 16px;
        }

        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
        }

        .btn-secondary {
            background: var(--medium-gray);
            color: var(--text-primary);
        }

        .btn-secondary:hover {
            background: var(--dark-gray);
            color: white;
        }

        .btn-full {
            grid-column: 1 / -1;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .planner-layout {
                grid-template-columns: 1fr;
            }

            .mvp1-builder {
                position: static;
                max-height: none;
            }
        }

        /* Scrollbar Styling */
        .story-cards::-webkit-scrollbar,
        .drop-zone::-webkit-scrollbar {
            width: 8px;
        }

        .story-cards::-webkit-scrollbar-track,
        .drop-zone::-webkit-scrollbar-track {
            background: var(--light-gray);
            border-radius: 4px;
        }

        .story-cards::-webkit-scrollbar-thumb,
        .drop-zone::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 4px;
        }

        .story-cards::-webkit-scrollbar-thumb:hover,
        .drop-zone::-webkit-scrollbar-thumb:hover {
            background: var(--secondary-color);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="header-content">
            <div>
                <h1>MVP1 Complete Platform Planner</h1>
                <div class="header-subtitle">Build your MVP1 - Blueprint + Family + Advisor - Complete feature set</div>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- MVP1 Summary -->
        <div class="mvp1-summary">
            <div class="summary-item">
                <div class="summary-label">Total Features</div>
                <div class="summary-value" id="totalStoriesCount">0</div>
                <div class="summary-subtext">Across all blocks</div>
            </div>
            <div class="summary-item">
                <div class="summary-label">Critical Priority</div>
                <div class="summary-value" id="criticalCount">0</div>
                <div class="summary-subtext">Must-have features</div>
            </div>
            <div class="summary-item">
                <div class="summary-label">High Priority</div>
                <div class="summary-value" id="highCount">0</div>
                <div class="summary-subtext">Important features</div>
            </div>
            <div class="summary-item">
                <div class="summary-label">Available SP</div>
                <div class="summary-value" id="availableSP">0</div>
                <div class="summary-subtext">Total story points</div>
            </div>
            <div class="summary-item">
                <div class="summary-label">Feature Blocks</div>
                <div class="summary-value" id="totalBlocks">45</div>
                <div class="summary-subtext">Blueprint + Family + Advisor</div>
            </div>
        </div>

        <!-- Planner Layout -->
        <div class="planner-layout">
            <!-- Story Pool -->
            <div class="story-pool">
                <div class="section-header">
                    <h2 class="section-title">Available Features</h2>
                </div>

                <!-- Filters -->
                <div class="filters">
                    <button class="filter-btn active" data-filter="all" onclick="filterStories('all')">
                        All Features
                    </button>
                    <button class="filter-btn priority-critical" data-filter="critical" onclick="filterStories('critical')">
                        ðŸ”´ Critical
                    </button>
                    <button class="filter-btn priority-high" data-filter="high" onclick="filterStories('high')">
                        ðŸŸ¡ High
                    </button>
                    <button class="filter-btn" data-filter="medium" onclick="filterStories('medium')">
                        ðŸŸ  Medium
                    </button>
                    <button class="filter-btn" data-filter="low" onclick="filterStories('low')">
                        ðŸŸ¢ Low
                    </button>
                </div>

                <!-- Story Cards -->
                <div class="story-cards" id="storyCards"></div>
            </div>

            <!-- MVP1 Builder -->
            <div class="mvp1-builder">
                <div class="builder-header">
                    <div class="builder-title">MVP1 Build</div>
                    <div class="builder-stats">
                        <div class="stat-item">
                            <div class="stat-label">Features</div>
                            <div class="stat-value" id="mvp1Count">0</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Story Points</div>
                            <div class="stat-value" id="mvp1SP">0</div>
                        </div>
                        <div class="stat-item" style="grid-column: 1 / -1;">
                            <div class="stat-label">Estimated Duration</div>
                            <div class="stat-value" id="mvp1Duration" style="font-size: 18px;">0 sprints</div>
                        </div>
                    </div>
                </div>

                <!-- Drop Zone -->
                <div class="drop-zone" id="dropZone">
                    <div class="drop-zone-empty">
                        <div class="drop-zone-empty-icon">ðŸ“‹</div>
                        <div>
                            <strong>Drag features here</strong><br>
                            <span style="font-size: 12px;">Or click "Add to MVP1" button on feature cards</span>
                        </div>
                    </div>
                </div>

                <!-- Actions -->
                <div class="builder-actions">
                    <button class="btn btn-secondary" onclick="clearMVP1()">
                        Clear All
                    </button>
                    <button class="btn btn-primary" onclick="exportMVP1()">
                        Export
                    </button>
                    <button class="btn btn-primary btn-full" onclick="saveMVP1()">
                        Save MVP1 Plan
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data from Blueprint analysis (same as main prototype)
        const blocksData = [
            {
                number: 1,
                name: "Family Graph, Identity & Access",
                stories: [
                    {
                        id: "1.1",
                        title: "Role Assignment with Term Dates",
                        description: "Assign committee roles with start/end terms so access changes automatically",
                        readiness: 0,
                        sp: 13,
                        priority: "critical",
                        blockName: "Family Graph, Identity & Access"
                    },
                    {
                        id: "1.2",
                        title: "Guest Access for External Advisors",
                        description: "Guest access to only the Investment space invited to",
                        readiness: 33,
                        sp: 13,
                        priority: "high",
                        blockName: "Family Graph, Identity & Access"
                    },
                    {
                        id: "1.3",
                        title: "Conflict of Interest Detection",
                        description: "Conflicts of interest flagged before votes",
                        readiness: 0,
                        sp: 8,
                        priority: "critical",
                        blockName: "Family Graph, Identity & Access"
                    }
                ]
            },
            {
                number: 2,
                name: "Living Constitution & Policy Board",
                stories: [
                    {
                        id: "2.1",
                        title: "Convert PDF Constitution to Living Policy",
                        description: "Convert PDF constitution into living policy with clauses, owners, and review cadence",
                        readiness: 12,
                        sp: 16,
                        priority: "critical",
                        blockName: "Living Constitution & Policy Board"
                    },
                    {
                        id: "2.2",
                        title: "Show How Clause is Lived",
                        description: "See how this clause is lived with linked practices and tasks",
                        readiness: 30,
                        sp: 10,
                        priority: "high",
                        blockName: "Living Constitution & Policy Board"
                    },
                    {
                        id: "2.3",
                        title: "Lock Policy During Review",
                        description: "Lock a policy during legal review",
                        readiness: 0,
                        sp: 10,
                        priority: "critical",
                        blockName: "Living Constitution & Policy Board"
                    }
                ]
            },
            {
                number: 3,
                name: "Meetings, Decisions & Async Gov",
                stories: [
                    {
                        id: "3.1",
                        title: "Consent Agenda with Quorum",
                        description: "Run consent agenda and record votes with quorum check",
                        readiness: 52,
                        sp: 10,
                        priority: "high",
                        blockName: "Meetings, Decisions & Async Gov"
                    },
                    {
                        id: "3.2",
                        title: "E-Vote Between Meetings",
                        description: "Request e-vote between meetings with expiry",
                        readiness: 50,
                        sp: 8,
                        priority: "medium",
                        blockName: "Meetings, Decisions & Async Gov"
                    },
                    {
                        id: "3.3",
                        title: "Decision Lineage",
                        description: "See decision lineage showing the policy and evidence used",
                        readiness: 57,
                        sp: 5,
                        priority: "low",
                        blockName: "Meetings, Decisions & Async Gov"
                    }
                ]
            },
            {
                number: 4,
                name: "Tasking, Projects & Accountability",
                stories: [
                    {
                        id: "4.1",
                        title: "Member Accountability Dashboard",
                        description: "See attendance, prep, and action completion by member",
                        readiness: 38,
                        sp: 8,
                        priority: "high",
                        blockName: "Tasking, Projects & Accountability"
                    },
                    {
                        id: "4.2",
                        title: "Pre-Read Compliance",
                        description: "Auto-prompts to upload pre-reads and mark readiness",
                        readiness: 29,
                        sp: 10,
                        priority: "medium",
                        blockName: "Tasking, Projects & Accountability"
                    },
                    {
                        id: "4.3",
                        title: "Export Overdue Tasks",
                        description: "Export overdue tasks by body and owner",
                        readiness: 30,
                        sp: 5,
                        priority: "low",
                        blockName: "Tasking, Projects & Accountability"
                    }
                ]
            },
            {
                number: 5,
                name: "Engagement Analytics & Signals",
                stories: [
                    {
                        id: "5.1",
                        title: "Contributors & Quiet Cohort",
                        description: "View top contributors list and quiet cohort radar",
                        readiness: 12,
                        sp: 13,
                        priority: "critical",
                        blockName: "Engagement Analytics & Signals"
                    },
                    {
                        id: "5.2",
                        title: "Branch Engagement Alerts",
                        description: "Alert if branch engagement drops >30% QoQ",
                        readiness: 0,
                        sp: 13,
                        priority: "high",
                        blockName: "Engagement Analytics & Signals"
                    },
                    {
                        id: "5.3",
                        title: "Participation-Outcome Correlation",
                        description: "Correlate participation with project outcomes",
                        readiness: 0,
                        sp: 13,
                        priority: "medium",
                        blockName: "Engagement Analytics & Signals"
                    }
                ]
            },
            {
                number: 6,
                name: "Difficult-Conversation Studio",
                stories: [
                    {
                        id: "6.1",
                        title: "Setup Difficult Conversation",
                        description: "Set norms, attendees, neutral venue, purpose, and pre-work",
                        readiness: 0,
                        sp: 10,
                        priority: "medium",
                        blockName: "Difficult-Conversation Studio"
                    },
                    {
                        id: "6.2",
                        title: "Anonymous Pre-Session Questions",
                        description: "Submit questions anonymously pre-session",
                        readiness: 0,
                        sp: 8,
                        priority: "medium",
                        blockName: "Difficult-Conversation Studio"
                    },
                    {
                        id: "6.3",
                        title: "Log Outcomes to Registries",
                        description: "Log outcomes and follow-ups into decision/task registries",
                        readiness: 33,
                        sp: 5,
                        priority: "low",
                        blockName: "Difficult-Conversation Studio"
                    }
                ]
            },
            {
                number: 7,
                name: "Question-Based Facilitation",
                stories: [
                    {
                        id: "7.1",
                        title: "Question Burst Session",
                        description: "Run 5-minute Question Burst with scribe and no answers rule",
                        readiness: 22,
                        sp: 10,
                        priority: "low",
                        blockName: "Question-Based Facilitation"
                    },
                    {
                        id: "7.2",
                        title: "Outcome Frame Prompts",
                        description: "Flip problem frame to outcome frame prompts",
                        readiness: 0,
                        sp: 8,
                        priority: "low",
                        blockName: "Question-Based Facilitation"
                    },
                    {
                        id: "7.3",
                        title: "Question Scoring",
                        description: "Score questions for power and bias before meeting",
                        readiness: 0,
                        sp: 8,
                        priority: "low",
                        blockName: "Question-Based Facilitation"
                    }
                ]
            },
            {
                number: 8,
                name: "Script Analyzer (CUE Engine)",
                stories: [
                    {
                        id: "8.1",
                        title: "Detect Limiting Language",
                        description: "Upload meeting notes, system flags 'had to choose' and suggests reframes",
                        readiness: 0,
                        sp: 13,
                        priority: "medium",
                        blockName: "Script Analyzer (CUE Engine)"
                    },
                    {
                        id: "8.2",
                        title: "Coaching Prompts",
                        description: "Coaching prompts like 'What would it look like if both were true?'",
                        readiness: 0,
                        sp: 5,
                        priority: "low",
                        blockName: "Script Analyzer (CUE Engine)"
                    },
                    {
                        id: "8.3",
                        title: "Export Flagged Language",
                        description: "Export flagged language for training",
                        readiness: 0,
                        sp: 5,
                        priority: "low",
                        blockName: "Script Analyzer (CUE Engine)"
                    }
                ]
            },
            {
                number: 9,
                name: "Rising-Gen Journey Builder",
                stories: [
                    {
                        id: "9.1",
                        title: "Discovery Prompts & Journal",
                        description: "Pick 1-2 discover prompts and log strengths to test",
                        readiness: 20,
                        sp: 8,
                        priority: "medium",
                        blockName: "Rising-Gen Journey Builder"
                    },
                    {
                        id: "9.2",
                        title: "Co-Design Experience",
                        description: "Co-design 6-month experience with first step",
                        readiness: 13,
                        sp: 10,
                        priority: "medium",
                        blockName: "Rising-Gen Journey Builder"
                    },
                    {
                        id: "9.3",
                        title: "Anonymized Progress Heatmaps",
                        description: "See anonymized progress heatmaps, not private journals",
                        readiness: 0,
                        sp: 8,
                        priority: "low",
                        blockName: "Rising-Gen Journey Builder"
                    }
                ]
            },
            {
                number: 10,
                name: "Constraints Canvas & Innovation",
                stories: [
                    {
                        id: "10.1",
                        title: "Capture Constraints as Ingredients",
                        description: "Capture constraints and convert to ingredients",
                        readiness: 0,
                        sp: 10,
                        priority: "low",
                        blockName: "Constraints Canvas & Innovation"
                    },
                    {
                        id: "10.2",
                        title: "Submit & Vote Solutions",
                        description: "Submit solutions that respect constraints and vote",
                        readiness: 33,
                        sp: 8,
                        priority: "low",
                        blockName: "Constraints Canvas & Innovation"
                    },
                    {
                        id: "10.3",
                        title: "Show Before/After",
                        description: "Show how constraints unlocked options",
                        readiness: 0,
                        sp: 5,
                        priority: "low",
                        blockName: "Constraints Canvas & Innovation"
                    }
                ]
            },
            {
                number: 11,
                name: "Shareholder Agreement Workbench",
                stories: [
                    {
                        id: "11.1",
                        title: "Assemble Draft from Boilerplates",
                        description: "Assemble draft using pre-emption, tag-along, cap boilerplates",
                        readiness: 13,
                        sp: 13,
                        priority: "medium",
                        blockName: "Shareholder Agreement Workbench"
                    },
                    {
                        id: "11.2",
                        title: "Simulate Exit Scenarios",
                        description: "Simulate partial exit or concerted-action trigger",
                        readiness: 0,
                        sp: 21,
                        priority: "low",
                        blockName: "Shareholder Agreement Workbench"
                    },
                    {
                        id: "11.3",
                        title: "Renegotiation & Sunset",
                        description: "Add renegotiation clause and sunset review timer",
                        readiness: 23,
                        sp: 8,
                        priority: "low",
                        blockName: "Shareholder Agreement Workbench"
                    }
                ]
            },
            {
                number: 12,
                name: "Investment & Impact Governance",
                stories: [
                    {
                        id: "12.1",
                        title: "Standardized Deal Memos",
                        description: "Standardize deal memos and voting thresholds per ticket size",
                        readiness: 20,
                        sp: 10,
                        priority: "medium",
                        blockName: "Investment & Impact Governance"
                    },
                    {
                        id: "12.2",
                        title: "Tag & Track Impact Deals",
                        description: "Tag deal as impact (renewable, education) and attach metrics",
                        readiness: 23,
                        sp: 13,
                        priority: "medium",
                        blockName: "Investment & Impact Governance"
                    },
                    {
                        id: "12.3",
                        title: "Club-Deal Partner Registry",
                        description: "Track club-deal partners and rights",
                        readiness: 0,
                        sp: 10,
                        priority: "low",
                        blockName: "Investment & Impact Governance"
                    }
                ]
            },
            {
                number: 13,
                name: "Philanthropy & Legacy Workspace",
                stories: [
                    {
                        id: "13.1",
                        title: "Publish Funding Policies",
                        description: "Publish funding policies and cycles tied to constitution",
                        readiness: 30,
                        sp: 8,
                        priority: "medium",
                        blockName: "Philanthropy & Legacy Workspace"
                    },
                    {
                        id: "13.2",
                        title: "Outcome Reports",
                        description: "Produce outcome reports against stated goals",
                        readiness: 15,
                        sp: 8,
                        priority: "medium",
                        blockName: "Philanthropy & Legacy Workspace"
                    },
                    {
                        id: "13.3",
                        title: "Values Mapping",
                        description: "Review governance fit with family values",
                        readiness: 0,
                        sp: 8,
                        priority: "low",
                        blockName: "Philanthropy & Legacy Workspace"
                    }
                ]
            },
            {
                number: 14,
                name: "Knowledge Base & Multi-Space",
                stories: [
                    {
                        id: "14.1",
                        title: "Multi-Space Announcements",
                        description: "Publish one announcement to Board and Family Council simultaneously",
                        readiness: 25,
                        sp: 10,
                        priority: "high",
                        blockName: "Knowledge Base & Multi-Space"
                    },
                    {
                        id: "14.2",
                        title: "Threaded Q&A",
                        description: "Run Q&A threads instead of top-down memos",
                        readiness: 0,
                        sp: 10,
                        priority: "medium",
                        blockName: "Knowledge Base & Multi-Space"
                    },
                    {
                        id: "14.3",
                        title: "Scope-Based Content Filtering",
                        description: "See only items shared to my space",
                        readiness: 20,
                        sp: 8,
                        priority: "high",
                        blockName: "Knowledge Base & Multi-Space"
                    }
                ]
            },
            {
                number: 15,
                name: "Authentication & Security [FAMILY]",
                stories: [
                    {
                        id: "F1",
                        title: "Login / 2-Factor Auth Service",
                        description: "Secure authentication with 2FA support",
                        readiness: 0,
                        sp: 13,
                        priority: "critical",
                        blockName: "Authentication & Security [FAMILY]"
                    },
                    {
                        id: "F2",
                        title: "Email Verification",
                        description: "Email verification for user accounts",
                        readiness: 0,
                        sp: 5,
                        priority: "critical",
                        blockName: "Authentication & Security [FAMILY]"
                    },
                    {
                        id: "F3",
                        title: "Payment Methods (Stripe)",
                        description: "Integration with Stripe for payment processing",
                        readiness: 0,
                        sp: 13,
                        priority: "high",
                        blockName: "Authentication & Security [FAMILY]"
                    }
                ]
            },
            {
                number: 16,
                name: "User Experience [FAMILY]",
                stories: [
                    {
                        id: "F4",
                        title: "Onboarding",
                        description: "User onboarding flow for new family members",
                        readiness: 0,
                        sp: 8,
                        priority: "critical",
                        blockName: "User Experience [FAMILY]"
                    },
                    {
                        id: "F5",
                        title: "Dashboard",
                        description: "Main dashboard with overview and quick actions",
                        readiness: 0,
                        sp: 13,
                        priority: "critical",
                        blockName: "User Experience [FAMILY]"
                    },
                    {
                        id: "F6",
                        title: "Profile",
                        description: "User profile management and settings",
                        readiness: 0,
                        sp: 8,
                        priority: "high",
                        blockName: "User Experience [FAMILY]"
                    },
                    {
                        id: "F7",
                        title: "Activity Feed",
                        description: "Real-time activity feed for family events",
                        readiness: 0,
                        sp: 8,
                        priority: "medium",
                        blockName: "User Experience [FAMILY]"
                    },
                    {
                        id: "F8",
                        title: "Notification Center",
                        description: "Centralized notification management",
                        readiness: 0,
                        sp: 8,
                        priority: "high",
                        blockName: "User Experience [FAMILY]"
                    }
                ]
            },
            {
                number: 17,
                name: "Workshops [FAMILY]",
                stories: [
                    {
                        id: "F9",
                        title: "Values, Mission, Vision Workshop",
                        description: "Interactive workshop for defining family values, mission and vision",
                        readiness: 0,
                        sp: 13,
                        priority: "critical",
                        blockName: "Workshops [FAMILY]"
                    },
                    {
                        id: "F10",
                        title: "Assessment Workshop",
                        description: "Family assessment and evaluation workshop",
                        readiness: 0,
                        sp: 10,
                        priority: "medium",
                        blockName: "Workshops [FAMILY]"
                    },
                    {
                        id: "F11",
                        title: "Decision Making & Conflicts Workshop",
                        description: "Workshop for decision making and conflict resolution",
                        readiness: 0,
                        sp: 10,
                        priority: "medium",
                        blockName: "Workshops [FAMILY]"
                    },
                    {
                        id: "F12",
                        title: "Succession & Development Workshop",
                        description: "Workshop for succession planning and development",
                        readiness: 0,
                        sp: 10,
                        priority: "medium",
                        blockName: "Workshops [FAMILY]"
                    }
                ]
            },
            {
                number: 18,
                name: "Constitution & Governance [FAMILY]",
                stories: [
                    {
                        id: "F13",
                        title: "Constitution - CRUD Operations",
                        description: "Create, read, update, delete family constitution documents",
                        readiness: 0,
                        sp: 13,
                        priority: "critical",
                        blockName: "Constitution & Governance [FAMILY]"
                    },
                    {
                        id: "F14",
                        title: "AI-Guided Constitution Creation",
                        description: "AI assistant for creating and refining family constitution",
                        readiness: 0,
                        sp: 21,
                        priority: "high",
                        blockName: "Constitution & Governance [FAMILY]"
                    },
                    {
                        id: "F15",
                        title: "Meeting Management",
                        description: "Schedule meetings, create agendas, link documents",
                        readiness: 0,
                        sp: 13,
                        priority: "critical",
                        blockName: "Constitution & Governance [FAMILY]"
                    },
                    {
                        id: "F16",
                        title: "Decision-Making System",
                        description: "Standard decisions, elections, and analytics",
                        readiness: 0,
                        sp: 21,
                        priority: "critical",
                        blockName: "Constitution & Governance [FAMILY]"
                    }
                ]
            },
            {
                number: 19,
                name: "Communication [FAMILY]",
                stories: [
                    {
                        id: "F17",
                        title: "Communication Hub",
                        description: "Conversations and announcements for family members",
                        readiness: 0,
                        sp: 13,
                        priority: "critical",
                        blockName: "Communication [FAMILY]"
                    }
                ]
            },
            {
                number: 20,
                name: "Assets & Investments [FAMILY]",
                stories: [
                    {
                        id: "F18",
                        title: "Asset Dashboard",
                        description: "Overview of family assets and investments",
                        readiness: 0,
                        sp: 13,
                        priority: "high",
                        blockName: "Assets & Investments [FAMILY]"
                    },
                    {
                        id: "F19",
                        title: "Investment Report & Analytics",
                        description: "Investment performance reports and analytics",
                        readiness: 0,
                        sp: 21,
                        priority: "high",
                        blockName: "Assets & Investments [FAMILY]"
                    }
                ]
            },
            {
                number: 21,
                name: "Education [FAMILY]",
                stories: [
                    {
                        id: "F20",
                        title: "Learning Paths",
                        description: "Curated learning paths for family members",
                        readiness: 0,
                        sp: 13,
                        priority: "medium",
                        blockName: "Education [FAMILY]"
                    },
                    {
                        id: "F21",
                        title: "Resource Library",
                        description: "Library of educational resources and materials",
                        readiness: 0,
                        sp: 8,
                        priority: "medium",
                        blockName: "Education [FAMILY]"
                    }
                ]
            },
            {
                number: 22,
                name: "Philanthropy [FAMILY]",
                stories: [
                    {
                        id: "F22",
                        title: "Philanthropy Management",
                        description: "Manage philanthropic activities and organizations",
                        readiness: 0,
                        sp: 13,
                        priority: "high",
                        blockName: "Philanthropy [FAMILY]"
                    },
                    {
                        id: "F23",
                        title: "Organizations Registry",
                        description: "Registry of philanthropic organizations",
                        readiness: 0,
                        sp: 8,
                        priority: "medium",
                        blockName: "Philanthropy [FAMILY]"
                    },
                    {
                        id: "F24",
                        title: "Philanthropy Strategy",
                        description: "Define and track philanthropy strategy",
                        readiness: 0,
                        sp: 8,
                        priority: "medium",
                        blockName: "Philanthropy [FAMILY]"
                    },
                    {
                        id: "F25",
                        title: "Volunteer Activities",
                        description: "Track and manage volunteer activities",
                        readiness: 0,
                        sp: 8,
                        priority: "low",
                        blockName: "Philanthropy [FAMILY]"
                    },
                    {
                        id: "F26",
                        title: "Philanthropy Analytics",
                        description: "Analytics and reporting for philanthropy impact",
                        readiness: 0,
                        sp: 13,
                        priority: "medium",
                        blockName: "Philanthropy [FAMILY]"
                    }
                ]
            },
            {
                number: 23,
                name: "Advisor Portal [FAMILY]",
                stories: [
                    {
                        id: "F27",
                        title: "Advisor Marketplace",
                        description: "Marketplace for finding and connecting with advisors",
                        readiness: 0,
                        sp: 21,
                        priority: "high",
                        blockName: "Advisor Portal [FAMILY]"
                    },
                    {
                        id: "F28",
                        title: "Advisor Services",
                        description: "Catalog and management of advisor services",
                        readiness: 0,
                        sp: 13,
                        priority: "high",
                        blockName: "Advisor Portal [FAMILY]"
                    },
                    {
                        id: "F29",
                        title: "Mentorship Program",
                        description: "Mentorship matching and management",
                        readiness: 0,
                        sp: 13,
                        priority: "medium",
                        blockName: "Advisor Portal [FAMILY]"
                    }
                ]
            },
            {
                number: 24,
                name: "Succession Planning [FAMILY]",
                stories: [
                    {
                        id: "F30",
                        title: "Succession Planning",
                        description: "Create and manage succession plans",
                        readiness: 0,
                        sp: 21,
                        priority: "high",
                        blockName: "Succession Planning [FAMILY]"
                    },
                    {
                        id: "F31",
                        title: "Plans Management",
                        description: "Manage multiple succession plans",
                        readiness: 0,
                        sp: 13,
                        priority: "medium",
                        blockName: "Succession Planning [FAMILY]"
                    }
                ]
            },
            {
                number: 25,
                name: "Conflict Resolution [FAMILY]",
                stories: [
                    {
                        id: "F32",
                        title: "Conflicts Registry",
                        description: "Registry and tracking of family conflicts",
                        readiness: 0,
                        sp: 13,
                        priority: "high",
                        blockName: "Conflict Resolution [FAMILY]"
                    },
                    {
                        id: "F33",
                        title: "Resolution Frameworks",
                        description: "Frameworks and templates for conflict resolution",
                        readiness: 0,
                        sp: 8,
                        priority: "medium",
                        blockName: "Conflict Resolution [FAMILY]"
                    },
                    {
                        id: "F34",
                        title: "Mediation Management",
                        description: "Manage mediation sessions and outcomes",
                        readiness: 0,
                        sp: 13,
                        priority: "medium",
                        blockName: "Conflict Resolution [FAMILY]"
                    },
                    {
                        id: "F35",
                        title: "Conflict Analytics",
                        description: "Analytics and insights on conflict patterns",
                        readiness: 0,
                        sp: 8,
                        priority: "low",
                        blockName: "Conflict Resolution [FAMILY]"
                    }
                ]
            },
            {
                number: 26,
                name: "Family Members [FAMILY]",
                stories: [
                    {
                        id: "F36",
                        title: "Family Members Registry",
                        description: "Registry of all family members",
                        readiness: 0,
                        sp: 13,
                        priority: "critical",
                        blockName: "Family Members [FAMILY]"
                    },
                    {
                        id: "F37",
                        title: "Family Tree",
                        description: "Visual family tree with relationships",
                        readiness: 0,
                        sp: 21,
                        priority: "high",
                        blockName: "Family Members [FAMILY]"
                    },
                    {
                        id: "F38",
                        title: "Assets Map by Family Member",
                        description: "Map assets to family members",
                        readiness: 0,
                        sp: 13,
                        priority: "medium",
                        blockName: "Family Members [FAMILY]"
                    },
                    {
                        id: "F39",
                        title: "Family Advisors Registry",
                        description: "Registry of family advisors and consultants",
                        readiness: 0,
                        sp: 8,
                        priority: "high",
                        blockName: "Family Members [FAMILY]"
                    }
                ]
            },
            {
                number: 27,
                name: "Task Management [FAMILY]",
                stories: [
                    {
                        id: "F40",
                        title: "Task List by Family Member",
                        description: "Personal task lists for each family member",
                        readiness: 0,
                        sp: 8,
                        priority: "high",
                        blockName: "Task Management [FAMILY]"
                    }
                ]
            },
            {
                number: 28,
                name: "Technical Infrastructure [FAMILY]",
                stories: [
                    {
                        id: "F41",
                        title: "Issues / Jira Integration",
                        description: "Track technical issues and bugs via Jira integration",
                        readiness: 0,
                        sp: 8,
                        priority: "medium",
                        blockName: "Technical Infrastructure [FAMILY]"
                    },
                    {
                        id: "F42",
                        title: "Extensions - SharePoint Integration",
                        description: "Link Family platform with SharePoint",
                        readiness: 0,
                        sp: 13,
                        priority: "low",
                        blockName: "Technical Infrastructure [FAMILY]"
                    },
                    {
                        id: "F43",
                        title: "Extensions - Google Docs Integration",
                        description: "Link Family platform with Google Docs",
                        readiness: 0,
                        sp: 13,
                        priority: "low",
                        blockName: "Technical Infrastructure [FAMILY]"
                    }
                ]
            },
            {
                number: 29,
                name: "Operating System (OS) [FAMILY]",
                stories: [
                    {
                        id: "F44",
                        title: "OS - Pre-boarding",
                        description: "Pre-boarding experience for new users",
                        readiness: 0,
                        sp: 8,
                        priority: "high",
                        blockName: "Operating System (OS) [FAMILY]"
                    },
                    {
                        id: "F45",
                        title: "OS - Onboarding",
                        description: "Comprehensive onboarding system",
                        readiness: 0,
                        sp: 13,
                        priority: "critical",
                        blockName: "Operating System (OS) [FAMILY]"
                    },
                    {
                        id: "F46",
                        title: "OS - Fast Login",
                        description: "Fast login experience with biometrics",
                        readiness: 0,
                        sp: 8,
                        priority: "high",
                        blockName: "Operating System (OS) [FAMILY]"
                    },
                    {
                        id: "F47",
                        title: "OS - Technical Debt",
                        description: "Address technical debt across all screens",
                        readiness: 0,
                        sp: 21,
                        priority: "medium",
                        blockName: "Operating System (OS) [FAMILY]"
                    }
                ]
            },
            {
                number: 30,
                name: "Platform Features [FAMILY]",
                stories: [
                    {
                        id: "F48",
                        title: "Localization",
                        description: "Multi-language support for international families",
                        readiness: 0,
                        sp: 21,
                        priority: "medium",
                        blockName: "Platform Features [FAMILY]"
                    },
                    {
                        id: "F49",
                        title: "White Label",
                        description: "White-label solution for custom branding",
                        readiness: 0,
                        sp: 21,
                        priority: "low",
                        blockName: "Platform Features [FAMILY]"
                    },
                    {
                        id: "F50",
                        title: "Android App",
                        description: "Native Android application",
                        readiness: 0,
                        sp: 34,
                        priority: "low",
                        blockName: "Platform Features [FAMILY]"
                    }
                ]
            },
            {
                number: 31,
                name: "Advisor Registration & Profile [ADVISOR]",
                stories: [
                    {
                        id: "A1",
                        title: "Advisor Registration",
                        description: "Registration flow for new advisors",
                        readiness: 0,
                        sp: 8,
                        priority: "critical",
                        blockName: "Advisor Registration & Profile [ADVISOR]"
                    },
                    {
                        id: "A2",
                        title: "Profile Builder - Bio & Services",
                        description: "Fill profile with bio, services, specialization, education, contacts, interests",
                        readiness: 0,
                        sp: 13,
                        priority: "critical",
                        blockName: "Advisor Registration & Profile [ADVISOR]"
                    },
                    {
                        id: "A3",
                        title: "Services & Pricing",
                        description: "Describe services and set pricing",
                        readiness: 0,
                        sp: 8,
                        priority: "critical",
                        blockName: "Advisor Registration & Profile [ADVISOR]"
                    },
                    {
                        id: "A4",
                        title: "Enhanced LinkedIn-Style Profile",
                        description: "Updated profile design in LinkedIn style",
                        readiness: 0,
                        sp: 13,
                        priority: "high",
                        blockName: "Advisor Registration & Profile [ADVISOR]"
                    }
                ]
            },
            {
                number: 32,
                name: "Advisor Marketplace [ADVISOR]",
                stories: [
                    {
                        id: "A5",
                        title: "Marketplace Listing",
                        description: "Advisor appears in marketplace after profile completion",
                        readiness: 0,
                        sp: 8,
                        priority: "critical",
                        blockName: "Advisor Marketplace [ADVISOR]"
                    }
                ]
            },
            {
                number: 33,
                name: "Service Lifecycle [ADVISOR]",
                stories: [
                    {
                        id: "A6",
                        title: "Service Booking",
                        description: "Booking flow for advisor services",
                        readiness: 0,
                        sp: 13,
                        priority: "critical",
                        blockName: "Service Lifecycle [ADVISOR]"
                    },
                    {
                        id: "A7",
                        title: "Upselling Services",
                        description: "Add additional services to existing booking (upsell)",
                        readiness: 0,
                        sp: 8,
                        priority: "high",
                        blockName: "Service Lifecycle [ADVISOR]"
                    },
                    {
                        id: "A8",
                        title: "Service Confirmation",
                        description: "Confirmation of services being provided",
                        readiness: 0,
                        sp: 5,
                        priority: "critical",
                        blockName: "Service Lifecycle [ADVISOR]"
                    },
                    {
                        id: "A9",
                        title: "Service Workspace",
                        description: "Dedicated workspace for service delivery",
                        readiness: 0,
                        sp: 13,
                        priority: "high",
                        blockName: "Service Lifecycle [ADVISOR]"
                    },
                    {
                        id: "A10",
                        title: "Payment Processing",
                        description: "Payment processing upon service completion",
                        readiness: 0,
                        sp: 13,
                        priority: "critical",
                        blockName: "Service Lifecycle [ADVISOR]"
                    }
                ]
            },
            {
                number: 34,
                name: "Permissions & Access [ADVISOR]",
                stories: [
                    {
                        id: "A11",
                        title: "Permission Management",
                        description: "View sections that family has granted access to",
                        readiness: 0,
                        sp: 13,
                        priority: "critical",
                        blockName: "Permissions & Access [ADVISOR]"
                    }
                ]
            },
            {
                number: 35,
                name: "Consultations [ADVISOR]",
                stories: [
                    {
                        id: "A12",
                        title: "Consultation Scheduling",
                        description: "Schedule, reschedule, and cancel consultations",
                        readiness: 0,
                        sp: 13,
                        priority: "critical",
                        blockName: "Consultations [ADVISOR]"
                    },
                    {
                        id: "A13",
                        title: "Consultation Agenda & Participants",
                        description: "Manage agenda and participants for consultations",
                        readiness: 0,
                        sp: 8,
                        priority: "high",
                        blockName: "Consultations [ADVISOR]"
                    },
                    {
                        id: "A14",
                        title: "Advisor Calendar & Availability",
                        description: "Manage advisor availability calendar",
                        readiness: 0,
                        sp: 13,
                        priority: "critical",
                        blockName: "Consultations [ADVISOR]"
                    }
                ]
            },
            {
                number: 36,
                name: "Family Collaboration [ADVISOR]",
                stories: [
                    {
                        id: "A15",
                        title: "Long-term Family Invitation",
                        description: "Invite family for ongoing collaboration (Consul & Personal Family Advisor)",
                        readiness: 0,
                        sp: 13,
                        priority: "high",
                        blockName: "Family Collaboration [ADVISOR]"
                    }
                ]
            },
            {
                number: 37,
                name: "Communication [ADVISOR]",
                stories: [
                    {
                        id: "A16",
                        title: "Chat Management",
                        description: "Create and delete chats, 1-to-1 and group chats",
                        readiness: 0,
                        sp: 13,
                        priority: "critical",
                        blockName: "Communication [ADVISOR]"
                    },
                    {
                        id: "A17",
                        title: "Notification Center",
                        description: "Notification bell with alerts and updates",
                        readiness: 0,
                        sp: 8,
                        priority: "high",
                        blockName: "Communication [ADVISOR]"
                    }
                ]
            },
            {
                number: 38,
                name: "Payment Integration [ADVISOR]",
                stories: [
                    {
                        id: "A18",
                        title: "Stripe Integration",
                        description: "Integration with Stripe for payment processing",
                        readiness: 0,
                        sp: 13,
                        priority: "critical",
                        blockName: "Payment Integration [ADVISOR]"
                    }
                ]
            },
            {
                number: 39,
                name: "Education Resources [ADVISOR]",
                stories: [
                    {
                        id: "A19",
                        title: "Resource Library",
                        description: "Add resource links, share with families",
                        readiness: 0,
                        sp: 8,
                        priority: "medium",
                        blockName: "Education Resources [ADVISOR]"
                    },
                    {
                        id: "A20",
                        title: "Learning Program Templates",
                        description: "Create templates for educational programs",
                        readiness: 0,
                        sp: 13,
                        priority: "medium",
                        blockName: "Education Resources [ADVISOR]"
                    },
                    {
                        id: "A21",
                        title: "Constitution Templates",
                        description: "Create and share constitution templates",
                        readiness: 0,
                        sp: 13,
                        priority: "medium",
                        blockName: "Education Resources [ADVISOR]"
                    }
                ]
            },
            {
                number: 40,
                name: "Mentorship [ADVISOR]",
                stories: [
                    {
                        id: "A22",
                        title: "Mentorship Program",
                        description: "Mentorship matching and management for advisors",
                        readiness: 0,
                        sp: 13,
                        priority: "medium",
                        blockName: "Mentorship [ADVISOR]"
                    }
                ]
            },
            {
                number: 41,
                name: "Calendar Integrations [ADVISOR]",
                stories: [
                    {
                        id: "A23",
                        title: "Outlook Integration",
                        description: "Integration with Outlook calendar for availability slots",
                        readiness: 0,
                        sp: 13,
                        priority: "high",
                        blockName: "Calendar Integrations [ADVISOR]"
                    },
                    {
                        id: "A24",
                        title: "Calendar Sync",
                        description: "Sync with various calendars for availability management",
                        readiness: 0,
                        sp: 8,
                        priority: "medium",
                        blockName: "Calendar Integrations [ADVISOR]"
                    }
                ]
            },
            {
                number: 42,
                name: "Video Conferencing [ADVISOR]",
                stories: [
                    {
                        id: "A25",
                        title: "Google Meet Integration",
                        description: "Integration with Google Meet for consultations",
                        readiness: 0,
                        sp: 8,
                        priority: "high",
                        blockName: "Video Conferencing [ADVISOR]"
                    },
                    {
                        id: "A26",
                        title: "Teams Integration",
                        description: "Integration with Microsoft Teams",
                        readiness: 0,
                        sp: 8,
                        priority: "medium",
                        blockName: "Video Conferencing [ADVISOR]"
                    },
                    {
                        id: "A27",
                        title: "Zoom Integration",
                        description: "Integration with Zoom for video consultations",
                        readiness: 0,
                        sp: 8,
                        priority: "high",
                        blockName: "Video Conferencing [ADVISOR]"
                    }
                ]
            },
            {
                number: 43,
                name: "Workshop Builder [ADVISOR]",
                stories: [
                    {
                        id: "A28",
                        title: "Workshop Constructor",
                        description: "Tool to design and create custom workshops",
                        readiness: 0,
                        sp: 21,
                        priority: "medium",
                        blockName: "Workshop Builder [ADVISOR]"
                    }
                ]
            },
            {
                number: 44,
                name: "Analytics & Reporting [ADVISOR]",
                stories: [
                    {
                        id: "A29",
                        title: "Enhanced Revenue Analytics",
                        description: "Track earnings by client and service",
                        readiness: 0,
                        sp: 13,
                        priority: "high",
                        blockName: "Analytics & Reporting [ADVISOR]"
                    }
                ]
            },
            {
                number: 45,
                name: "Localization [ADVISOR]",
                stories: [
                    {
                        id: "A30",
                        title: "Localization",
                        description: "Multi-language support for advisor portal",
                        readiness: 0,
                        sp: 13,
                        priority: "medium",
                        blockName: "Localization [ADVISOR]"
                    }
                ]
            }
        ];

        // Flatten all stories
        let allStories = [];
        blocksData.forEach(block => {
            allStories = allStories.concat(block.stories);
        });

        // State
        let mvp1Stories = [];
        let currentFilter = 'all';

        // Initialize
        function init() {
            updateSummaryStats();
            renderStories();
            setupDragAndDrop();
        }

        // Update summary statistics
        function updateSummaryStats() {
            const criticalStories = allStories.filter(s => s.priority === 'critical');
            const highStories = allStories.filter(s => s.priority === 'high');
            const totalSP = allStories.reduce((sum, s) => sum + s.sp, 0);

            document.getElementById('totalStoriesCount').textContent = allStories.length;
            document.getElementById('criticalCount').textContent = criticalStories.length;
            document.getElementById('highCount').textContent = highStories.length;
            document.getElementById('availableSP').textContent = totalSP;
        }

        // Filter stories
        function filterStories(priority) {
            currentFilter = priority;

            // Update filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-filter="${priority}"]`).classList.add('active');

            renderStories();
        }

        // Render story cards
        function renderStories() {
            const container = document.getElementById('storyCards');
            container.innerHTML = '';

            const filtered = currentFilter === 'all'
                ? allStories
                : allStories.filter(s => s.priority === currentFilter);

            filtered.forEach(story => {
                const card = createStoryCard(story);
                container.appendChild(card);
            });
        }

        // Create story card element
        function createStoryCard(story) {
            const card = document.createElement('div');
            card.className = `story-card priority-${story.priority}`;
            card.draggable = true;
            card.dataset.storyId = story.id;

            const isInMVP1 = mvp1Stories.some(s => s.id === story.id);
            if (isInMVP1) {
                card.classList.add('in-mvp1');
            }

            const readinessClass = story.readiness < 15 ? 'readiness-critical' :
                                  story.readiness < 30 ? 'readiness-low' :
                                  story.readiness < 70 ? 'readiness-medium' : 'readiness-high';

            card.innerHTML = `
                <div class="priority-indicator"></div>
                <div class="story-card-header">
                    <div class="story-id">${story.id}</div>
                    <div class="story-badges">
                        <div class="story-sp">${story.sp} SP</div>
                        <div class="story-readiness ${readinessClass}">${story.readiness}%</div>
                    </div>
                </div>
                <div class="story-title">${story.title}</div>
                <div class="story-description">${story.description}</div>
                <div class="story-block">Block: ${story.blockName}</div>
                <button class="add-btn" onclick="addToMVP1('${story.id}')" ${isInMVP1 ? 'disabled' : ''}>
                    ${isInMVP1 ? 'âœ“ Added to MVP1' : '+ Add to MVP1'}
                </button>
            `;

            // Drag events
            card.addEventListener('dragstart', handleDragStart);
            card.addEventListener('dragend', handleDragEnd);

            return card;
        }

        // Drag and drop handlers
        function setupDragAndDrop() {
            const dropZone = document.getElementById('dropZone');

            dropZone.addEventListener('dragover', (e) => {
                e.preventDefault();
                dropZone.classList.add('drag-over');
            });

            dropZone.addEventListener('dragleave', () => {
                dropZone.classList.remove('drag-over');
            });

            dropZone.addEventListener('drop', (e) => {
                e.preventDefault();
                dropZone.classList.remove('drag-over');

                const storyId = e.dataTransfer.getData('text/plain');
                addToMVP1(storyId);
            });
        }

        function handleDragStart(e) {
            e.target.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
            e.dataTransfer.setData('text/plain', e.target.dataset.storyId);
        }

        function handleDragEnd(e) {
            e.target.classList.remove('dragging');
        }

        // Add story to MVP1
        function addToMVP1(storyId) {
            const story = allStories.find(s => s.id === storyId);
            if (!story || mvp1Stories.some(s => s.id === storyId)) return;

            mvp1Stories.push(story);
            updateMVP1Display();
            renderStories(); // Re-render to show disabled state
        }

        // Remove story from MVP1
        function removeFromMVP1(storyId) {
            mvp1Stories = mvp1Stories.filter(s => s.id !== storyId);
            updateMVP1Display();
            renderStories(); // Re-render to show enabled state
        }

        // Update MVP1 display
        function updateMVP1Display() {
            const dropZone = document.getElementById('dropZone');

            if (mvp1Stories.length === 0) {
                dropZone.innerHTML = `
                    <div class="drop-zone-empty">
                        <div class="drop-zone-empty-icon">ðŸ“‹</div>
                        <div>
                            <strong>Drag features here</strong><br>
                            <span style="font-size: 12px;">Or click "Add to MVP1" button on feature cards</span>
                        </div>
                    </div>
                `;
            } else {
                dropZone.innerHTML = mvp1Stories.map(story => `
                    <div class="mvp1-story">
                        <div class="mvp1-story-info">
                            <div class="mvp1-story-id">${story.id}</div>
                            <div class="mvp1-story-title">${story.title}</div>
                            <div class="mvp1-story-meta">
                                <span class="story-sp">${story.sp} SP</span>
                                <span class="story-readiness ${
                                    story.readiness < 15 ? 'readiness-critical' :
                                    story.readiness < 30 ? 'readiness-low' :
                                    story.readiness < 70 ? 'readiness-medium' : 'readiness-high'
                                }">${story.readiness}%</span>
                            </div>
                        </div>
                        <button class="remove-btn" onclick="removeFromMVP1('${story.id}')">Remove</button>
                    </div>
                `).join('');
            }

            // Update stats
            const totalSP = mvp1Stories.reduce((sum, s) => sum + s.sp, 0);
            const sprints = Math.ceil(totalSP / 12); // Assuming 12 SP per sprint
            const months = Math.ceil(sprints / 2); // 2 sprints per month

            document.getElementById('mvp1Count').textContent = mvp1Stories.length;
            document.getElementById('mvp1SP').textContent = totalSP;
            document.getElementById('mvp1Duration').textContent = `${sprints} sprints (~${months} months)`;
        }

        // Clear MVP1
        function clearMVP1() {
            if (mvp1Stories.length === 0) return;

            if (confirm('Are you sure you want to clear all stories from MVP1?')) {
                mvp1Stories = [];
                updateMVP1Display();
                renderStories();
            }
        }

        // Export MVP1
        function exportMVP1() {
            if (mvp1Stories.length === 0) {
                alert('No stories in MVP1 to export.');
                return;
            }

            const totalSP = mvp1Stories.reduce((sum, s) => sum + s.sp, 0);
            const sprints = Math.ceil(totalSP / 12);
            const months = Math.ceil(sprints / 2);

            let markdown = `# MVP1 User Stories Plan\n\n`;
            markdown += `**Generated:** ${new Date().toLocaleDateString()}\n\n`;
            markdown += `## Summary\n\n`;
            markdown += `- **Total Stories:** ${mvp1Stories.length}\n`;
            markdown += `- **Total Story Points:** ${totalSP} SP\n`;
            markdown += `- **Estimated Duration:** ${sprints} sprints (~${months} months)\n`;
            markdown += `- **Target:** 145 SP (5-6 months)\n\n`;

            markdown += `## Stories by Priority\n\n`;

            ['critical', 'high', 'medium', 'low'].forEach(priority => {
                const stories = mvp1Stories.filter(s => s.priority === priority);
                if (stories.length === 0) return;

                const priorityLabel = {
                    'critical': 'ðŸ”´ Critical',
                    'high': 'ðŸŸ¡ High',
                    'medium': 'ðŸŸ  Medium',
                    'low': 'ðŸŸ¢ Low'
                }[priority];

                markdown += `### ${priorityLabel}\n\n`;
                stories.forEach(story => {
                    markdown += `#### ${story.id}: ${story.title}\n\n`;
                    markdown += `- **Block:** ${story.blockName}\n`;
                    markdown += `- **Story Points:** ${story.sp} SP\n`;
                    markdown += `- **Readiness:** ${story.readiness}%\n`;
                    markdown += `- **Description:** ${story.description}\n\n`;
                });
            });

            // Download as file
            const blob = new Blob([markdown], { type: 'text/markdown' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'mvp1-stories-plan.md';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Save MVP1
        function saveMVP1() {
            if (mvp1Stories.length === 0) {
                alert('No stories in MVP1 to save.');
                return;
            }

            const totalSP = mvp1Stories.reduce((sum, s) => sum + s.sp, 0);

            // Save to localStorage
            const mvp1Plan = {
                date: new Date().toISOString(),
                stories: mvp1Stories,
                totalSP: totalSP,
                storyCount: mvp1Stories.length
            };

            localStorage.setItem('mvp1_plan', JSON.stringify(mvp1Plan));
            alert(`MVP1 plan saved successfully!\n\n${mvp1Stories.length} stories, ${totalSP} SP`);
        }

        // Load saved MVP1 on init
        function loadSavedMVP1() {
            const saved = localStorage.getItem('mvp1_plan');
            if (saved) {
                try {
                    const plan = JSON.parse(saved);
                    mvp1Stories = plan.stories;
                    updateMVP1Display();
                    renderStories();
                } catch (e) {
                    console.error('Failed to load saved MVP1:', e);
                }
            }
        }

        // Initialize on load
        window.addEventListener('load', () => {
            init();
            loadSavedMVP1();
        });
    </script>
</body>
</html>
