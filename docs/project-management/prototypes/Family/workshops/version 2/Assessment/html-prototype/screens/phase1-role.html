<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Role Confirmation - Family Governance Assessment</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/screens.css">
</head>
<body>
    <div class="screen-container">
        <header class="screen-header">
            <div class="logo">ReFamily</div>
            <div class="user-menu">
                <span class="user-name">Владислав</span>
                <span class="user-avatar">В</span>
            </div>
        </header>

        <main class="screen-content">
            <div class="role-screen">
                <div class="step-indicator">
                    <span class="step-label">Шаг 1 из 3</span>
                </div>

                <h1>Подтвердите вашу роль в семье</h1>

                <p class="role-description">
                    Ваша роль влияет на то, какие вопросы вы будете видеть и как мы интерпретируем ответы.
                    Это помогает нам задавать релевантные вопросы и правильно анализировать межпоколенческие различия.
                </p>

                <div class="role-options">
                    <label class="role-card" onclick="selectRole(this)">
                        <input type="radio" name="role" value="founder_g1">
                        <div class="role-content">
                            <div class="role-title">Основатель/патриарх (G1)</div>
                            <div class="role-subtitle">Создатель семейного богатства</div>
                        </div>
                    </label>

                    <label class="role-card" onclick="selectRole(this)">
                        <input type="radio" name="role" value="spouse_g1">
                        <div class="role-content">
                            <div class="role-title">Супруг(а) основателя (G1)</div>
                            <div class="role-subtitle">Партнёр основателя семьи</div>
                        </div>
                    </label>

                    <label class="role-card" onclick="selectRole(this)">
                        <input type="radio" name="role" value="heir_g2">
                        <div class="role-content">
                            <div class="role-title">Наследник/преемник (G2)</div>
                            <div class="role-subtitle">Взрослый ребёнок основателя</div>
                        </div>
                    </label>

                    <label class="role-card" onclick="selectRole(this)">
                        <input type="radio" name="role" value="spouse_g2">
                        <div class="role-content">
                            <div class="role-title">Супруг(а) наследника (G2)</div>
                            <div class="role-subtitle">Партнёр наследника</div>
                        </div>
                    </label>

                    <label class="role-card" onclick="selectRole(this)">
                        <input type="radio" name="role" value="nextgen_g3">
                        <div class="role-content">
                            <div class="role-title">Следующее поколение (G3+)</div>
                            <div class="role-subtitle">Внуки и последующие поколения</div>
                        </div>
                    </label>

                    <label class="role-card" onclick="selectRole(this)">
                        <input type="radio" name="role" value="advisor">
                        <div class="role-content">
                            <div class="role-title">Внешний советник/консультант</div>
                            <div class="role-subtitle">Lawyer, accountant, family advisor</div>
                        </div>
                    </label>

                    <label class="role-card" onclick="selectRole(this)">
                        <input type="radio" name="role" value="manager">
                        <div class="role-content">
                            <div class="role-title">Профессиональный управляющий</div>
                            <div class="role-subtitle">Family office team, board member</div>
                        </div>
                    </label>

                    <label class="role-card" onclick="selectRole(this)">
                        <input type="radio" name="role" value="council">
                        <div class="role-content">
                            <div class="role-title">Член семейного совета</div>
                            <div class="role-subtitle">Elected or appointed council member</div>
                        </div>
                    </label>

                    <label class="role-card" onclick="selectRole(this)">
                        <input type="radio" name="role" value="other">
                        <div class="role-content">
                            <div class="role-title">Другая роль</div>
                            <div class="role-subtitle">
                                <input type="text"
                                       placeholder="Опишите вашу роль..."
                                       class="other-role-input"
                                       style="width: 100%; margin-top: 8px; padding: 8px; border: 1px solid #E0E0E0; border-radius: 4px;">
                            </div>
                        </div>
                    </label>
                </div>

                <div class="info-callout">
                    <div class="info-callout-title">
                        <span>ℹ️</span>
                        <span>Информация о роли</span>
                    </div>
                    <p style="margin: 0; color: var(--gray-700); font-size: 14px;">
                        Выбранная роль не влияет на ваш доступ к результатам. Все участники видят полную картину.
                        Роль используется только для контекста и анализа консенсуса.
                    </p>
                </div>

                <button id="continueBtn" class="btn-primary btn-large" disabled onclick="location.href='phase1-privacy.html'">
                    Продолжить →
                </button>
            </div>
        </main>

        <div class="screen-navigation">
            <button onclick="location.href='phase1-welcome.html'" class="btn-secondary">
                ← Назад
            </button>
            <div class="nav-progress">
                <span class="nav-label">Phase 1: Setup</span>
                <span class="nav-step">Screen 1.2 / 4</span>
            </div>
            <button id="navContinueBtn" onclick="location.href='phase1-privacy.html'" class="btn-primary" disabled>
                Следующий →
            </button>
        </div>
    </div>

    <script>
        function selectRole(card) {
            // Remove selection from all cards
            document.querySelectorAll('.role-card').forEach(c => {
                c.classList.remove('selected');
            });

            // Add selection to clicked card
            card.classList.add('selected');

            // Enable continue button
            document.getElementById('continueBtn').disabled = false;
            document.getElementById('navContinueBtn').disabled = false;

            // Store selection
            const roleValue = card.querySelector('input[type="radio"]').value;
            sessionStorage.setItem('selectedRole', roleValue);
        }

        // Restore selection on page load
        window.addEventListener('DOMContentLoaded', () => {
            const savedRole = sessionStorage.getItem('selectedRole');
            if (savedRole) {
                const roleInput = document.querySelector(`input[value="${savedRole}"]`);
                if (roleInput) {
                    const card = roleInput.closest('.role-card');
                    selectRole(card);
                    roleInput.checked = true;
                }
            }
        });
    </script>
</body>
</html>
