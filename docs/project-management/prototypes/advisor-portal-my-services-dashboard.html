<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Services - Advisor Portal</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: #f5f5f7;
            color: #1d1d1f;
        }

        /* Header */
        .header {
            background-color: white;
            border-bottom: 1px solid #d2d2d7;
            padding: 0 24px;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 64px;
        }

        .logo {
            font-size: 18px;
            font-weight: 600;
            color: #0066cc;
            text-decoration: none;
            letter-spacing: -0.5px;
        }

        .nav {
            display: flex;
            gap: 32px;
        }

        .nav a {
            color: #1d1d1f;
            text-decoration: none;
            font-size: 14px;
            transition: color 0.2s;
        }

        .nav a:hover {
            color: #0066cc;
        }

        .nav a.active {
            color: #0066cc;
            font-weight: 500;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .notification-icon {
            position: relative;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: #f5f5f7;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .notification-icon:hover {
            background-color: #e8e8ed;
        }

        .notification-badge {
            position: absolute;
            top: -2px;
            right: -2px;
            background-color: #ff3b30;
            color: white;
            font-size: 11px;
            font-weight: 600;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
        }

        /* Breadcrumb */
        .breadcrumb {
            max-width: 1400px;
            margin: 24px auto 0;
            padding: 0 24px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: #86868b;
        }

        .breadcrumb a {
            color: #0066cc;
            text-decoration: none;
        }

        /* Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 32px 24px;
        }

        /* Page Header */
        .page-header {
            margin-bottom: 32px;
        }

        .page-header h1 {
            font-size: 40px;
            font-weight: 700;
            margin-bottom: 8px;
            letter-spacing: -1px;
        }

        .page-header p {
            font-size: 16px;
            color: #86868b;
        }

        /* Tabs */
        .tabs {
            display: flex;
            gap: 8px;
            border-bottom: 1px solid #d2d2d7;
            margin-bottom: 24px;
        }

        .tab {
            padding: 12px 24px;
            border: none;
            background: none;
            font-size: 14px;
            font-weight: 500;
            color: #86868b;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
        }

        .tab:hover {
            color: #1d1d1f;
        }

        .tab.active {
            color: #0066cc;
            border-bottom-color: #0066cc;
        }

        .tab .count {
            margin-left: 8px;
            padding: 2px 8px;
            background-color: #f5f5f7;
            border-radius: 12px;
            font-size: 12px;
        }

        .tab.active .count {
            background-color: #e8f4fd;
            color: #0066cc;
        }

        /* Filters */
        .filters {
            display: flex;
            gap: 12px;
            margin-bottom: 24px;
            flex-wrap: wrap;
        }

        .filter-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-label {
            font-size: 14px;
            color: #86868b;
            font-weight: 500;
        }

        select {
            padding: 8px 32px 8px 12px;
            border: 1px solid #d2d2d7;
            border-radius: 8px;
            font-size: 14px;
            background-color: white;
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L6 6L11 1' stroke='%2386868b' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 12px center;
        }

        /* Service Cards Grid */
        .services-grid {
            display: grid;
            gap: 24px;
        }

        .service-card {
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
            border-left: 4px solid transparent;
            transition: box-shadow 0.2s, transform 0.2s;
        }

        .service-card:hover {
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
            transform: translateY(-2px);
        }

        .service-card.in-progress {
            border-left-color: #34c759;
        }

        .service-card.pending {
            border-left-color: #ff9500;
        }

        .service-card.delivered {
            border-left-color: #007aff;
        }

        /* Card Header */
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 16px;
        }

        .family-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .family-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: linear-gradient(135deg, #0066cc 0%, #0052a3 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 16px;
        }

        .family-details h3 {
            font-size: 16px;
            font-weight: 600;
            color: #1d1d1f;
            margin-bottom: 4px;
        }

        .family-details .meta {
            font-size: 13px;
            color: #86868b;
        }

        /* Status Badge */
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-badge.in-progress {
            background-color: #d1f4e0;
            color: #0d7a42;
        }

        .status-badge.pending {
            background-color: #fff3cd;
            color: #856404;
        }

        .status-badge.delivered {
            background-color: #e8f4fd;
            color: #0052a3;
        }

        .status-badge::before {
            content: '';
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background-color: currentColor;
        }

        /* Service Title */
        .service-title {
            font-size: 18px;
            font-weight: 600;
            color: #1d1d1f;
            margin-bottom: 16px;
        }

        /* Service Meta Grid */
        .service-meta {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 16px;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: #86868b;
        }

        .meta-item strong {
            color: #1d1d1f;
        }

        /* Progress Section */
        .progress-section {
            margin-bottom: 16px;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 13px;
        }

        .progress-label {
            color: #86868b;
        }

        .progress-value {
            font-weight: 600;
            color: #34c759;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background-color: #f5f5f7;
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #34c759 0%, #30d158 100%);
            transition: width 0.5s ease;
        }

        /* Payment Info */
        .payment-info {
            background-color: #f9f9fb;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 16px;
        }

        .payment-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .payment-row:last-child {
            margin-bottom: 0;
        }

        .payment-label {
            color: #86868b;
        }

        .payment-value {
            font-weight: 600;
            color: #1d1d1f;
        }

        .payment-value.success {
            color: #34c759;
        }

        /* Alert Box */
        .alert-box {
            background-color: #fff3cd;
            border-left: 4px solid #ff9500;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: #856404;
        }

        .alert-box.urgent {
            background-color: #ffe5e5;
            border-left-color: #ff3b30;
            color: #cc0000;
        }

        /* Card Actions */
        .card-actions {
            display: flex;
            gap: 8px;
            padding-top: 16px;
            border-top: 1px solid #f5f5f7;
        }

        .btn {
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #0066cc 0%, #0052a3 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 102, 204, 0.3);
        }

        .btn-secondary {
            background: white;
            color: #0066cc;
            border: 1px solid #0066cc;
        }

        .btn-secondary:hover {
            background: #f5f9ff;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 80px 40px;
            background: white;
            border-radius: 12px;
        }

        .empty-icon {
            font-size: 64px;
            margin-bottom: 16px;
        }

        .empty-title {
            font-size: 20px;
            font-weight: 600;
            color: #1d1d1f;
            margin-bottom: 8px;
        }

        .empty-text {
            color: #86868b;
            margin-bottom: 24px;
        }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-content {
            background-color: white;
            border-radius: 12px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }

        .modal-header {
            background: linear-gradient(135deg, #0066cc 0%, #0052a3 100%);
            color: white;
            padding: 24px;
            border-radius: 12px 12px 0 0;
        }

        .modal-header h2 {
            font-size: 20px;
            font-weight: 600;
        }

        .modal-body {
            padding: 24px;
        }

        .modal-actions {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-top: 24px;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <a href="#" class="logo">Reluna Advisor Portal</a>
            <nav class="nav">
                <a href="#">Dashboard</a>
                <a href="#">Families</a>
                <a href="#" class="active">My Services</a>
                <a href="#">Calendar</a>
                <a href="#">Profile</a>
            </nav>
            <div class="header-right">
                <div class="notification-icon" onclick="showNotifications()">
                    <span>üîî</span>
                    <div class="notification-badge">5</div>
                </div>
                <div class="user-avatar">SJ</div>
            </div>
        </div>
    </header>

    <!-- Breadcrumb -->
    <div class="breadcrumb">
        <a href="#">Dashboard</a>
        <span>‚Ä∫</span>
        <span>My Services</span>
    </div>

    <!-- Main Content -->
    <div class="container">
        <!-- Page Header -->
        <div class="page-header">
            <h1>My Services</h1>
            <p>Manage and track your service requests with families</p>
        </div>

        <!-- Tabs -->
        <div class="tabs">
            <button class="tab active" onclick="switchTab('active')">
                Active<span class="count">3</span>
            </button>
            <button class="tab" onclick="switchTab('upcoming')">
                Upcoming<span class="count">2</span>
            </button>
            <button class="tab" onclick="switchTab('completed')">
                Completed<span class="count">12</span>
            </button>
            <button class="tab" onclick="switchTab('all')">
                All<span class="count">17</span>
            </button>
        </div>

        <!-- Filters -->
        <div class="filters">
            <div class="filter-group">
                <span class="filter-label">Family:</span>
                <select>
                    <option>All Families</option>
                    <option>Smith Family</option>
                    <option>Johnson Family</option>
                    <option>Williams Family</option>
                </select>
            </div>
            <div class="filter-group">
                <span class="filter-label">Service Type:</span>
                <select>
                    <option>All Types</option>
                    <option>Succession Planning</option>
                    <option>Constitution Review</option>
                    <option>Conflict Mediation</option>
                </select>
            </div>
            <div class="filter-group">
                <span class="filter-label">Sort by:</span>
                <select>
                    <option>Deadline (Earliest)</option>
                    <option>Start Date</option>
                    <option>Family Name</option>
                    <option>Amount</option>
                </select>
            </div>
        </div>

        <!-- Services Grid -->
        <div class="services-grid">
            <!-- Service Card 1 - In Progress -->
            <div class="service-card in-progress">
                <div class="card-header">
                    <div class="family-info">
                        <div class="family-avatar">SF</div>
                        <div class="family-details">
                            <h3>Smith Family</h3>
                            <div class="meta">Contact: John Smith ‚Ä¢ SR-20251015-F123-001</div>
                        </div>
                    </div>
                    <div class="status-badge in-progress">In Progress</div>
                </div>

                <div class="service-title">üìã Succession Planning Advisory</div>

                <div class="service-meta">
                    <div class="meta-item">
                        üìÖ <strong>Oct 15 - Dec 15, 2025</strong>
                    </div>
                    <div class="meta-item">
                        ‚è∞ <strong style="color: #34c759;">23 days remaining</strong>
                    </div>
                    <div class="meta-item">
                        üìç Started 9 days ago
                    </div>
                    <div class="meta-item">
                        üì¶ Fixed Package (6 weeks)
                    </div>
                </div>

                <div class="progress-section">
                    <div class="progress-header">
                        <span class="progress-label">Progress</span>
                        <span class="progress-value">60% Complete</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 60%;"></div>
                    </div>
                </div>

                <div class="payment-info">
                    <div class="payment-row">
                        <span class="payment-label">Total Amount:</span>
                        <span class="payment-value">$5,000</span>
                    </div>
                    <div class="payment-row">
                        <span class="payment-label">Received (Prepay):</span>
                        <span class="payment-value success">$3,000 ‚úì</span>
                    </div>
                    <div class="payment-row">
                        <span class="payment-label">Balance Due:</span>
                        <span class="payment-value">$2,000</span>
                    </div>
                </div>

                <div class="card-actions">
                    <button class="btn btn-primary" onclick="viewDetails('SR-20251015-F123-001')">
                        View Details
                    </button>
                    <button class="btn btn-secondary" onclick="updateStatus()">
                        üìä Update Status
                    </button>
                    <button class="btn btn-secondary" onclick="uploadDeliverable()">
                        üìé Upload Deliverable
                    </button>
                    <button class="btn btn-secondary" onclick="openChat()">
                        üí¨ Chat
                    </button>
                </div>
            </div>

            <!-- Service Card 2 - Pending Confirmation -->
            <div class="service-card pending">
                <div class="card-header">
                    <div class="family-info">
                        <div class="family-avatar">WF</div>
                        <div class="family-details">
                            <h3>Williams Family</h3>
                            <div class="meta">Contact: David Williams ‚Ä¢ SR-20251022-F789-003</div>
                        </div>
                    </div>
                    <div class="status-badge pending">Pending</div>
                </div>

                <div class="service-title">üìã Family Conflict Mediation Session</div>

                <div class="service-meta">
                    <div class="meta-item">
                        üìÖ Requested: Nov 1, 2025
                    </div>
                    <div class="meta-item">
                        ‚è∞ <strong style="color: #ff9500;">42h to confirm</strong>
                    </div>
                    <div class="meta-item">
                        üìç Booked 6 hours ago
                    </div>
                    <div class="meta-item">
                        üí∞ $1,800 (Fixed)
                    </div>
                </div>

                <div class="alert-box urgent">
                    ‚ö†Ô∏è <strong>Action Required:</strong> Confirm or decline this booking within 42 hours (auto-cancels after 48h)
                </div>

                <div class="payment-info">
                    <div class="payment-row">
                        <span class="payment-label">Total Amount:</span>
                        <span class="payment-value">$1,800</span>
                    </div>
                    <div class="payment-row">
                        <span class="payment-label">Payment:</span>
                        <span class="payment-label">Invoiced after confirmation</span>
                    </div>
                </div>

                <div class="card-actions">
                    <button class="btn btn-primary" onclick="confirmBooking('SR-20251022-F789-003')">
                        ‚úì Confirm Booking
                    </button>
                    <button class="btn btn-secondary" onclick="declineBooking()">
                        ‚úï Decline
                    </button>
                    <button class="btn btn-secondary" onclick="openChat()">
                        üí¨ Contact Family
                    </button>
                </div>
            </div>

            <!-- Service Card 3 - Delivered (Awaiting Family Confirmation) -->
            <div class="service-card delivered">
                <div class="card-header">
                    <div class="family-info">
                        <div class="family-avatar">JF</div>
                        <div class="family-details">
                            <h3>Johnson Family</h3>
                            <div class="meta">Contact: Maria Johnson ‚Ä¢ SR-20250901-F456-002</div>
                        </div>
                    </div>
                    <div class="status-badge delivered">Delivered</div>
                </div>

                <div class="service-title">üìã Constitution Review & Update</div>

                <div class="service-meta">
                    <div class="meta-item">
                        üìÖ Sep 1 - Oct 20, 2025
                    </div>
                    <div class="meta-item">
                        ‚úÖ <strong style="color: #34c759;">Completed early</strong>
                    </div>
                    <div class="meta-item">
                        üìç Delivered 2 days ago
                    </div>
                    <div class="meta-item">
                        üì¶ 3 Deliverables shared
                    </div>
                </div>

                <div class="progress-section">
                    <div class="progress-header">
                        <span class="progress-label">Progress</span>
                        <span class="progress-value">100% Complete</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 100%;"></div>
                    </div>
                </div>

                <div class="alert-box">
                    ‚ÑπÔ∏è <strong>Awaiting family confirmation:</strong> The family has 28 days to confirm completion (auto-confirms after 30 days)
                </div>

                <div class="payment-info">
                    <div class="payment-row">
                        <span class="payment-label">Total Amount:</span>
                        <span class="payment-value">$2,500</span>
                    </div>
                    <div class="payment-row">
                        <span class="payment-label">Status:</span>
                        <span class="payment-value success">Paid in Full ‚úì</span>
                    </div>
                </div>

                <div class="card-actions">
                    <button class="btn btn-secondary" onclick="viewDetails('SR-20250901-F456-002')">
                        View Details
                    </button>
                    <button class="btn btn-secondary" onclick="openChat()">
                        üí¨ Follow Up
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div class="modal-overlay" id="confirmModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Confirm Booking Request</h2>
            </div>
            <div class="modal-body">
                <p style="margin-bottom: 16px; color: #86868b;">
                    Are you ready to accept this service request from <strong>Williams Family</strong>?
                </p>

                <div style="background: #f9f9fb; padding: 16px; border-radius: 8px; margin-bottom: 16px;">
                    <h3 style="font-size: 14px; font-weight: 600; margin-bottom: 8px;">Service Summary</h3>
                    <div style="font-size: 14px; color: #86868b; line-height: 1.6;">
                        <div><strong>Service:</strong> Family Conflict Mediation Session</div>
                        <div><strong>Start Date:</strong> Nov 1, 2025</div>
                        <div><strong>Amount:</strong> $1,800</div>
                        <div><strong>Access Required:</strong> Conflict Resolution module</div>
                    </div>
                </div>

                <div style="background: #fff3cd; padding: 12px; border-radius: 8px; margin-bottom: 16px; font-size: 14px; color: #856404;">
                    üí° <strong>Next Steps:</strong> After confirmation, prepayment invoice will be sent to the family.
                    Service will begin once payment is received.
                </div>

                <div class="modal-actions">
                    <button class="btn btn-secondary" onclick="closeModal('confirmModal')">Cancel</button>
                    <button class="btn btn-primary" onclick="submitConfirmation()">Confirm Booking</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        function switchTab(tab) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            console.log('Switched to tab:', tab);
        }

        function viewDetails(serviceId) {
            alert('Opening detailed view for ' + serviceId);
            // In real implementation, would navigate to detail page
        }

        function updateStatus() {
            alert('Status Update Options:\n\n‚Ä¢ Mark as Delivered\n‚Ä¢ Update progress percentage\n‚Ä¢ Add milestone completion\n‚Ä¢ Request deadline extension');
        }

        function uploadDeliverable() {
            alert('Upload Deliverable\n\nOptions:\n‚Ä¢ Share external link (Google Drive, Dropbox)\n‚Ä¢ Add text note/update\n‚Ä¢ Mark milestone as completed');
        }

        function openChat() {
            alert('Opening chat with family...');
        }

        function confirmBooking(serviceId) {
            document.getElementById('confirmModal').classList.add('active');
        }

        function declineBooking() {
            if (confirm('Are you sure you want to decline this booking?\n\nYou can provide a reason (optional) to help the family understand.')) {
                alert('Booking declined. Family will be notified.');
            }
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        function submitConfirmation() {
            alert('‚úì Booking confirmed!\n\nNext steps:\n‚Ä¢ Family will receive confirmation\n‚Ä¢ Prepayment invoice sent\n‚Ä¢ You\'ll be notified when payment received\n‚Ä¢ Service can begin after payment');
            closeModal('confirmModal');
        }

        function showNotifications() {
            alert('üì¨ Recent Notifications:\n\n1. Williams Family sent a new booking request\n2. Smith Family sent a message\n3. Johnson Family marked service as reviewed\n4. Payment of $3,000 received from Smith Family\n5. Reminder: Update progress for Smith Family service');
        }

        // Animate progress bars on load
        window.addEventListener('load', () => {
            document.querySelectorAll('.progress-fill').forEach(fill => {
                const width = fill.style.width;
                fill.style.width = '0%';
                setTimeout(() => {
                    fill.style.width = width;
                }, 100);
            });
        });

        // Close modal on ESC
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeModal('confirmModal');
            }
        });
    </script>
</body>
</html>
